<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Price Matrix Breadboard &mdash; Screen Print Pro</title>
  <style>
    :root {
      --bg-primary: #09090b;
      --bg-elevated: #18181b;
      --bg-surface: #1c1c1f;
      --text-primary: rgba(255,255,255,0.87);
      --text-secondary: rgba(255,255,255,0.60);
      --text-muted: rgba(255,255,255,0.38);
      --action: #22d3ee;
      --success: #34d399;
      --error: #f87171;
      --warning: #fbbf24;
      --border: rgba(255,255,255,0.08);
      --font-ui: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
      --font-mono: 'JetBrains Mono', 'Fira Code', monospace;
    }

    * { margin: 0; padding: 0; box-sizing: border-box; }

    body {
      background: var(--bg-primary);
      color: var(--text-primary);
      font-family: var(--font-ui);
      line-height: 1.6;
      padding: 48px 24px;
    }

    .container { max-width: 720px; margin: 0 auto; }

    .top-nav { margin-bottom: 24px; }

    .back-btn {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      color: var(--text-muted);
      font-size: 13px;
      font-weight: 500;
      text-decoration: none;
      padding: 6px 12px;
      border-radius: 6px;
      border: 1px solid var(--border);
      transition: all 0.15s ease;
    }

    .back-btn:hover {
      color: var(--action);
      border-color: rgba(34, 211, 238, 0.3);
      text-decoration: none;
    }

    header { margin-bottom: 32px; }

    .tag-row {
      display: flex;
      gap: 8px;
      flex-wrap: wrap;
      margin-bottom: 16px;
    }

    .tag {
      display: inline-block;
      font-size: 11px;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.05em;
      padding: 4px 10px;
      border-radius: 4px;
    }

    .tag-feature,
    .tag-build    { background: rgba(52, 211, 153, 0.12); color: var(--success); }
    .tag-plan     { background: rgba(34, 211, 238, 0.12); color: var(--action); }
    .tag-decision,
    .tag-learning { background: rgba(251, 191, 36, 0.12); color: var(--warning); }
    .tag-research { background: rgba(167, 139, 250, 0.12); color: #a78bfa; }

    h1 {
      font-size: 28px;
      font-weight: 700;
      letter-spacing: -0.02em;
      margin-bottom: 8px;
    }

    .subtitle {
      color: var(--text-secondary);
      font-size: 15px;
      margin-bottom: 20px;
    }

    .meta-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 1px;
      background: var(--border);
      border: 1px solid var(--border);
      border-radius: 8px;
      overflow: hidden;
      margin-bottom: 12px;
    }

    .meta-item {
      background: var(--bg-elevated);
      padding: 12px 16px;
    }

    .meta-label {
      display: block;
      font-size: 10px;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.05em;
      color: var(--text-muted);
      margin-bottom: 4px;
    }

    .meta-value {
      font-size: 13px;
      color: var(--text-primary);
    }

    .session-resume {
      background: var(--bg-elevated);
      border: 1px solid var(--border);
      border-radius: 8px;
      padding: 12px 16px;
      margin-bottom: 16px;
    }

    .session-resume code {
      font-family: var(--font-mono);
      font-size: 12px;
      color: var(--action);
      user-select: all;
      cursor: pointer;
    }

    .related-nav { margin-bottom: 32px; }

    .related-label {
      display: block;
      font-size: 10px;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.05em;
      color: var(--text-muted);
      margin-bottom: 8px;
    }

    .related-links {
      display: flex;
      gap: 8px;
      flex-wrap: wrap;
    }

    .related-link {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      font-size: 13px;
      color: var(--text-secondary);
      text-decoration: none;
      padding: 8px 14px;
      border-radius: 6px;
      border: 1px solid var(--border);
      background: var(--bg-elevated);
      transition: all 0.15s ease;
    }

    .related-link:hover {
      color: var(--action);
      border-color: rgba(34, 211, 238, 0.3);
      text-decoration: none;
    }

    .related-link .related-desc {
      color: var(--text-muted);
      font-size: 11px;
    }

    .header-divider {
      border: none;
      border-top: 1px solid var(--border);
      margin: 0 0 32px 0;
    }

    h2 {
      font-size: 11px;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.05em;
      color: var(--text-muted);
      margin-top: 40px;
      margin-bottom: 16px;
    }

    h3 {
      font-size: 16px;
      font-weight: 600;
      margin-top: 24px;
      margin-bottom: 8px;
    }

    p {
      color: var(--text-secondary);
      font-size: 14px;
      margin-bottom: 12px;
    }

    a { color: var(--action); text-decoration: none; }
    a:hover { text-decoration: underline; }

    .card {
      background: var(--bg-elevated);
      border: 1px solid var(--border);
      border-radius: 8px;
      padding: 20px;
      margin-bottom: 12px;
    }

    .card-title {
      font-size: 15px;
      font-weight: 600;
      color: var(--text-primary);
      margin-bottom: 6px;
    }

    .card-desc {
      font-size: 13px;
      color: var(--text-secondary);
    }

    .card-label {
      font-size: 11px;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.05em;
      color: var(--text-muted);
      margin-bottom: 8px;
    }

    ul, ol { padding-left: 20px; margin-bottom: 16px; }
    li { font-size: 14px; color: var(--text-secondary); margin-bottom: 6px; }
    li strong { color: var(--text-primary); }

    table {
      width: 100%;
      border-collapse: collapse;
      margin-bottom: 16px;
      font-size: 13px;
    }

    th {
      text-align: left;
      font-weight: 600;
      color: var(--text-muted);
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: 0.05em;
      padding: 8px 12px;
      border-bottom: 1px solid var(--border);
    }

    td {
      padding: 10px 12px;
      border-bottom: 1px solid var(--border);
      color: var(--text-secondary);
    }

    td:first-child { color: var(--text-primary); }

    code {
      font-family: var(--font-mono);
      font-size: 12px;
      background: var(--bg-surface);
      padding: 2px 6px;
      border-radius: 4px;
      color: var(--action);
    }

    .code-block {
      font-family: var(--font-mono);
      font-size: 12px;
      background: var(--bg-surface);
      border: 1px solid var(--border);
      border-radius: 6px;
      padding: 12px 16px;
      margin-top: 8px;
      color: var(--text-primary);
      user-select: all;
      cursor: pointer;
    }

    hr {
      border: none;
      border-top: 1px solid var(--border);
      margin: 32px 0;
    }

    .stat-grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 12px;
      margin-bottom: 24px;
    }

    .stat {
      background: var(--bg-elevated);
      border: 1px solid var(--border);
      border-radius: 8px;
      padding: 16px;
      text-align: center;
    }

    .stat-value {
      font-size: 24px;
      font-weight: 700;
      color: var(--action);
    }

    .stat-label {
      font-size: 11px;
      color: var(--text-muted);
      text-transform: uppercase;
      letter-spacing: 0.05em;
      margin-top: 4px;
    }

    .flow-diagram {
      background: var(--bg-elevated);
      border: 1px solid var(--border);
      border-radius: 8px;
      padding: 24px;
      margin-bottom: 16px;
      font-family: var(--font-mono);
      font-size: 12px;
      line-height: 1.8;
      color: var(--text-secondary);
      white-space: pre;
      overflow-x: auto;
    }

    .flow-diagram .highlight { color: var(--action); font-weight: 600; }
    .flow-diagram .parallel { color: var(--success); }
    .flow-diagram .dim { color: var(--text-muted); }

    .place-list {
      list-style: none;
      padding: 0;
    }

    .place-list li {
      display: flex;
      gap: 12px;
      align-items: baseline;
      padding: 10px 0;
      border-bottom: 1px solid var(--border);
    }

    .place-id {
      font-family: var(--font-mono);
      font-size: 12px;
      color: var(--action);
      min-width: 36px;
      font-weight: 600;
    }

    .place-type {
      font-size: 11px;
      color: var(--text-muted);
      background: var(--bg-surface);
      padding: 2px 6px;
      border-radius: 3px;
      min-width: 48px;
      text-align: center;
    }

    .place-name {
      color: var(--text-primary);
      font-weight: 500;
    }

    .place-route {
      font-family: var(--font-mono);
      font-size: 11px;
      color: var(--text-muted);
      margin-left: auto;
    }

    .parallel-block {
      background: rgba(52, 211, 153, 0.06);
      border: 1px solid rgba(52, 211, 153, 0.15);
      border-radius: 8px;
      padding: 16px 20px;
      margin-bottom: 12px;
    }

    .parallel-block .card-label {
      color: var(--success);
    }

    .sequential-block {
      background: rgba(34, 211, 238, 0.06);
      border: 1px solid rgba(34, 211, 238, 0.15);
      border-radius: 8px;
      padding: 16px 20px;
      margin-bottom: 12px;
    }

    .sequential-block .card-label {
      color: var(--action);
    }

    footer {
      margin-top: 48px;
      padding-top: 24px;
      border-top: 1px solid var(--border);
      font-size: 12px;
      color: var(--text-muted);
      text-align: center;
    }
  </style>
</head>
<body>
  <div class="container">

    <nav class="top-nav">
      <a class="back-btn" href="index.html">&larr; Back to Index</a>
    </nav>

    <header>
      <div class="tag-row">
        <span class="tag tag-plan">Plan</span>
        <span class="tag tag-decision">Decision</span>
      </div>

      <h1>Price Matrix Breadboard</h1>
      <p class="subtitle">UI affordance map, wiring, component boundaries, and parallelized build order for the Price Matrix vertical</p>

      <div class="meta-grid">
        <div class="meta-item">
          <span class="meta-label">Date</span>
          <span class="meta-value">2026-02-11</span>
        </div>
        <div class="meta-item">
          <span class="meta-label">Branch</span>
          <span class="meta-value"><code>session/0210-price-matrix</code></span>
        </div>
        <div class="meta-item">
          <span class="meta-label">Phase</span>
          <span class="meta-value">Phase 1 &mdash; Mockup</span>
        </div>
        <div class="meta-item">
          <span class="meta-label">Vertical</span>
          <span class="meta-value">Price Matrix</span>
        </div>
      </div>

      <div class="session-resume">
        <span class="meta-label">Resume Session</span>
        <code>claude --resume ac42f9fb-92e3-4d10-971d-bec20c749009</code>
      </div>
    </header>

    <nav class="related-nav">
      <span class="related-label">Related Sessions</span>
      <div class="related-links">
        <a class="related-link" href="2026-02-10-price-matrix-research.html">
          &larr; Research <span class="related-desc">&mdash; Market analysis, 80+ sources, competitor ratings</span>
        </a>
      </div>
    </nav>

    <hr class="header-divider">

    <!-- ========== BODY CONTENT ========== -->

    <h2>At a Glance</h2>

    <div class="stat-grid">
      <div class="stat">
        <div class="stat-value">8</div>
        <div class="stat-label">Places</div>
      </div>
      <div class="stat">
        <div class="stat-value">167</div>
        <div class="stat-label">UI Affordances</div>
      </div>
      <div class="stat">
        <div class="stat-value">80</div>
        <div class="stat-label">Code Affordances</div>
      </div>
      <div class="stat">
        <div class="stat-value">14</div>
        <div class="stat-label">Data Stores</div>
      </div>
    </div>

    <p>The breadboard maps the full Price Matrix vertical: a centralized pricing engine living under Settings, with a peek/shortcut from Quotes. Two service types (Screen Print + DTF), multiple templates with tag-based customer mapping, real-time margin indicators, sandbox what-if mode, and a 5-minute setup wizard.</p>

    <h2>Source Document</h2>

    <div class="card">
      <div class="card-label">Breadboard Blueprint</div>
      <div class="card-title"><a href="https://github.com/cmbays/print-4ink/blob/session/0210-price-matrix/docs/breadboards/price-matrix-breadboard.md">docs/breadboards/price-matrix-breadboard.md</a></div>
      <div class="card-desc">Full affordance tables, wiring verification, component boundaries, and scope coverage matrix.</div>
    </div>

    <h2>Places Mapped</h2>

    <ul class="place-list">
      <li>
        <span class="place-id">P1</span>
        <span class="place-type">Page</span>
        <span class="place-name">Pricing Hub</span>
        <span class="place-route">/settings/pricing</span>
      </li>
      <li>
        <span class="place-id">P1.1</span>
        <span class="place-type">Modal</span>
        <span class="place-name">New Template Wizard</span>
        <span class="place-route">5-step setup</span>
      </li>
      <li>
        <span class="place-id">P1.2</span>
        <span class="place-type">Sheet</span>
        <span class="place-name">Tag-Template Mapping</span>
        <span class="place-route">customer tag &rarr; template</span>
      </li>
      <li>
        <span class="place-id">P2</span>
        <span class="place-type">Page</span>
        <span class="place-name">Screen Print Matrix Editor</span>
        <span class="place-route">/settings/pricing/screen-print/[id]</span>
      </li>
      <li>
        <span class="place-id">P2.1</span>
        <span class="place-type">Modal</span>
        <span class="place-name">Side-by-Side Comparison</span>
        <span class="place-route">current vs. proposed</span>
      </li>
      <li>
        <span class="place-id">P2.2</span>
        <span class="place-type">Sheet</span>
        <span class="place-name">Cost Configuration</span>
        <span class="place-route">garment + ink + overhead</span>
      </li>
      <li>
        <span class="place-id">P3</span>
        <span class="place-type">Page</span>
        <span class="place-name">DTF Matrix Editor</span>
        <span class="place-route">/settings/pricing/dtf/[id]</span>
      </li>
      <li>
        <span class="place-id">P4</span>
        <span class="place-type">Sheet</span>
        <span class="place-name">Matrix Peek (from Quotes)</span>
        <span class="place-route">read-only + quick adjust</span>
      </li>
    </ul>

    <h2>Build Plan &mdash; Critical Path</h2>

    <p>The build follows a dependency chain with three parallelization windows. Foundation work is sequential, then the plan fans out.</p>

    <div class="flow-diagram"><span class="dim">PHASE A &mdash; Foundation (sequential)</span>

<span class="highlight">#1 Schemas</span> &rarr; <span class="highlight">#2 Pricing Engine</span> &rarr; <span class="highlight">#3 Mock Data</span>
     &darr;
<span class="highlight">#4 Shared Components</span> (MarginIndicator, CostBreakdownTooltip)
     &darr;
<span class="highlight">#5 Sidebar Update</span> + <span class="highlight">#6 Pricing Hub</span>

<span class="dim">PHASE B &mdash; Editors (parallel after Hub)</span>

  <span class="parallel">[Agent A]</span> #7 Setup Wizard (P1.1)
  <span class="parallel">[Agent B]</span> #8 Screen Print Editor (P2)
  <span class="parallel">[Agent C]</span> #9 DTF Editor (P3)

<span class="dim">PHASE C &mdash; Features (parallel after SP Editor)</span>

  <span class="parallel">[Agent A]</span> #8a Sandbox + Comparison (P2.1)
  <span class="parallel">[Agent B]</span> #8b Power Mode Grid
  <span class="parallel">[Agent C]</span> #8c Cost Config Sheet (P2.2)

<span class="dim">PHASE D &mdash; Integration (parallel)</span>

  <span class="parallel">[Agent A]</span> #10 Matrix Peek Sheet (P4)
  <span class="parallel">[Agent B]</span> #11 Tag-Template Mapping (P1.2)</div>

    <h2>Parallelization Strategy</h2>

    <div class="sequential-block">
      <div class="card-label">Phase A &mdash; Sequential Foundation</div>
      <p>Schemas, pricing engine, mock data, shared components, sidebar, and hub page. Each step depends on the previous. Single-agent work.</p>
      <ul>
        <li><strong>#1 Zod Schemas</strong> &mdash; <code>price-matrix.ts</code>, <code>dtf-pricing.ts</code>, <code>tag-template-mapping.ts</code></li>
        <li><strong>#2 Pricing Engine</strong> &mdash; Pure functions in <code>lib/pricing-engine.ts</code>, fully testable</li>
        <li><strong>#3 Mock Data</strong> &mdash; 3 SP templates, 2 DTF templates, tag mappings, cost configs</li>
        <li><strong>#4 Shared Components</strong> &mdash; <code>MarginIndicator</code>, <code>CostBreakdownTooltip</code>, <code>PricingTemplateCard</code></li>
        <li><strong>#5 Sidebar</strong> &mdash; Add Settings section with Pricing link</li>
        <li><strong>#6 Pricing Hub</strong> &mdash; Template cards, service type tabs, search</li>
      </ul>
    </div>

    <div class="parallel-block">
      <div class="card-label">Phase B &mdash; 3 Parallel Agents</div>
      <p>Once the hub is built, three independent editors can be built simultaneously. No shared state between them.</p>
      <ul>
        <li><strong>Agent A: Setup Wizard</strong> &mdash; 5-step modal with industry defaults and live preview (P1.1)</li>
        <li><strong>Agent B: Screen Print Editor</strong> &mdash; Simple Mode with quantity, color, location, garment sections + margin indicators (P2)</li>
        <li><strong>Agent C: DTF Editor</strong> &mdash; Sheet-size tiers, customer discounts, rush fees, film types (P3)</li>
      </ul>
    </div>

    <div class="parallel-block">
      <div class="card-label">Phase C &mdash; 3 Parallel Agents</div>
      <p>After the base Screen Print Editor, three feature overlays can be added in parallel. Each is self-contained within P2.</p>
      <ul>
        <li><strong>Agent A: Sandbox + Comparison</strong> &mdash; Enter experiment mode, compare side-by-side, apply or discard (P2.1)</li>
        <li><strong>Agent B: Power Mode Grid</strong> &mdash; TanStack Table inline editing, bulk select, keyboard nav</li>
        <li><strong>Agent C: Cost Config Sheet</strong> &mdash; Configure production costs for margin calculations (P2.2)</li>
      </ul>
    </div>

    <div class="parallel-block">
      <div class="card-label">Phase D &mdash; 2 Parallel Agents</div>
      <p>Integration features that connect price matrix to existing verticals.</p>
      <ul>
        <li><strong>Agent A: Matrix Peek Sheet</strong> &mdash; Read-only pricing view from Quote Detail with quick-adjust options (P4)</li>
        <li><strong>Agent B: Tag-Template Mapping</strong> &mdash; Map customer type tags to pricing templates (P1.2)</li>
      </ul>
    </div>

    <h2>Key Decisions</h2>

    <div class="card">
      <div class="card-title">Settings-first, Quotes-peek</div>
      <div class="card-desc">Pricing configuration lives under <code>/settings/pricing</code> (new sidebar section). Quotes get a read-only peek sheet with "override this quote" or "edit template" options. Not a top-level sidebar item.</div>
    </div>

    <div class="card">
      <div class="card-title">Separate matrices for Screen Print vs DTF</div>
      <div class="card-desc">Fundamentally different pricing models get separate editors (P2 vs P3), not tabs within the same page. Screen print = qty &times; colors &times; locations &times; garment. DTF = sheet length &times; customer tier &times; rush &times; film type.</div>
    </div>

    <div class="card">
      <div class="card-title">Wizard over import</div>
      <div class="card-desc">PrintLife has no export capability. The strategy pivots to an exceptional wizard UX with industry-standard defaults pre-filled. CSV import deferred to Phase 2.</div>
    </div>

    <div class="card">
      <div class="card-title">Tag-to-template customer mapping</div>
      <div class="card-desc">Existing <code>customerTypeTagEnum</code> (retail, sports-school, corporate, storefront-merch, wholesale) maps to pricing templates. When quoting a customer with tag "sports-school", the school template auto-applies.</div>
    </div>

    <h2>Scope Coverage</h2>

    <p>All 30 interview findings mapped to specific affordances. Every demo must-have covered:</p>

    <table>
      <thead>
        <tr>
          <th>Demo Must-Have</th>
          <th>Affordances</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Margin visibility</td>
          <td>U67, U130, U163, MarginIndicator component, green/yellow/red per cell</td>
        </tr>
        <tr>
          <td>5-minute setup</td>
          <td>P1.1 wizard (U20&ndash;U37), industry defaults, live preview</td>
        </tr>
        <tr>
          <td>What-if scenarios</td>
          <td>Sandbox toggle (U53), comparison modal P2.1 (U100&ndash;U107)</td>
        </tr>
        <tr>
          <td>Quote integration</td>
          <td>Matrix Peek P4 (U160&ndash;U167), pricing engine feeds quote calculator</td>
        </tr>
      </tbody>
    </table>

    <h2>New Files Created</h2>

    <table>
      <thead>
        <tr>
          <th>File</th>
          <th>Purpose</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><code>docs/breadboards/price-matrix-breadboard.md</code></td>
          <td>Full breadboard: 8 places, 167 UI affordances, 80 code affordances, 14 data stores, build order</td>
        </tr>
      </tbody>
    </table>

    <h2>Next Steps</h2>

    <ol>
      <li><strong>Build Phase A</strong> &mdash; Schemas, pricing engine, mock data, shared components, sidebar, hub</li>
      <li><strong>Spawn parallel agents</strong> for Phase B (wizard + SP editor + DTF editor)</li>
      <li><strong>Spawn parallel agents</strong> for Phase C (sandbox + power mode + cost config)</li>
      <li><strong>Integration</strong> &mdash; Matrix peek from quotes, tag-template mapping</li>
      <li><strong>Quality gate</strong> &mdash; Design audit against 15-point checklist</li>
    </ol>

    <footer>
      Screen Print Pro &mdash; Price Matrix Breadboard &mdash; 2026-02-11
    </footer>
  </div>
</body>
</html>
