<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Session: Agent Architecture &mdash; Screen Print Pro</title>
  <style>
    :root {
      --bg-primary: #09090b;
      --bg-elevated: #18181b;
      --bg-surface: #1c1c1f;
      --text-primary: rgba(255,255,255,0.87);
      --text-secondary: rgba(255,255,255,0.60);
      --text-muted: rgba(255,255,255,0.38);
      --action: #22d3ee;
      --success: #34d399;
      --warning: #fbbf24;
      --error: #f87171;
      --border: rgba(255,255,255,0.08);
      --font-ui: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
      --font-mono: 'JetBrains Mono', 'Fira Code', monospace;
    }

    * { margin: 0; padding: 0; box-sizing: border-box; }

    body {
      background: var(--bg-primary);
      color: var(--text-primary);
      font-family: var(--font-ui);
      line-height: 1.6;
      padding: 48px 24px;
    }

    .container { max-width: 720px; margin: 0 auto; }
    header { margin-bottom: 48px; }

    .badge {
      display: inline-block;
      font-size: 11px;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.05em;
      padding: 4px 10px;
      border-radius: 4px;
      background: rgba(52, 211, 153, 0.12);
      color: var(--success);
      margin-bottom: 12px;
    }

    h1 {
      font-size: 28px;
      font-weight: 700;
      letter-spacing: -0.02em;
      margin-bottom: 8px;
    }

    .subtitle {
      color: var(--text-secondary);
      font-size: 15px;
    }

    .meta {
      display: flex;
      gap: 24px;
      margin-top: 16px;
      font-size: 13px;
      color: var(--text-muted);
    }

    .meta span { display: flex; align-items: center; gap: 6px; }

    h2 {
      font-size: 18px;
      font-weight: 600;
      margin-top: 40px;
      margin-bottom: 16px;
      letter-spacing: -0.01em;
    }

    h3 {
      font-size: 15px;
      font-weight: 600;
      margin-top: 24px;
      margin-bottom: 8px;
    }

    p, li {
      font-size: 14px;
      color: var(--text-secondary);
      line-height: 1.7;
    }

    ul, ol { padding-left: 20px; margin-bottom: 16px; }
    li { margin-bottom: 6px; }
    li strong { color: var(--text-primary); }

    .card {
      background: var(--bg-elevated);
      border: 1px solid var(--border);
      border-radius: 8px;
      padding: 20px;
      margin-bottom: 16px;
    }

    .card-label {
      font-size: 11px;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.05em;
      color: var(--text-muted);
      margin-bottom: 8px;
    }

    a { color: var(--action); text-decoration: none; }
    a:hover { text-decoration: underline; }

    table {
      width: 100%;
      border-collapse: collapse;
      margin-bottom: 16px;
      font-size: 13px;
    }

    th {
      text-align: left;
      font-weight: 600;
      color: var(--text-muted);
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: 0.05em;
      padding: 8px 12px;
      border-bottom: 1px solid var(--border);
    }

    td {
      padding: 10px 12px;
      border-bottom: 1px solid var(--border);
      color: var(--text-secondary);
    }

    td:first-child { color: var(--text-primary); }

    code {
      font-family: var(--font-mono);
      font-size: 13px;
      background: var(--bg-surface);
      padding: 2px 6px;
      border-radius: 4px;
      color: var(--action);
    }

    .code-block {
      font-family: var(--font-mono);
      font-size: 13px;
      background: var(--bg-surface);
      border: 1px solid var(--border);
      border-radius: 6px;
      padding: 12px 16px;
      margin-top: 8px;
      color: var(--text-primary);
      user-select: all;
      cursor: pointer;
    }

    .resume-box {
      background: var(--bg-surface);
      border: 1px solid rgba(34, 211, 238, 0.2);
      border-radius: 8px;
      padding: 16px 20px;
      margin-top: 40px;
    }

    .resume-box .card-label { color: var(--action); }

    hr {
      border: none;
      border-top: 1px solid var(--border);
      margin: 32px 0;
    }

    .count-badge {
      display: inline-block;
      font-size: 12px;
      font-weight: 600;
      background: rgba(34, 211, 238, 0.1);
      color: var(--action);
      padding: 2px 8px;
      border-radius: 4px;
    }

    footer {
      margin-top: 48px;
      padding-top: 24px;
      border-top: 1px solid var(--border);
      font-size: 12px;
      color: var(--text-muted);
      text-align: center;
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <div class="badge">Feature</div>
      <h1>Agent Architecture</h1>
      <p class="subtitle">5 specialized agents, 4 new skills, orchestration patterns, and an agent registry. Agents preload skills for domain expertise and chain together for complex workflows.</p>
      <div class="meta">
        <span>2026-02-08</span>
        <span>Branch: <code>infra/agent-architecture</code></span>
      </div>
    </header>

    <h2>Agents vs Skills</h2>
    <div class="card">
      <div class="card-label">Key Distinction</div>
      <p><strong>Agents</strong> (<code>.claude/agents/</code>) are specialized AI assistants with their own context windows, system prompts, tool restrictions, and preloaded skills. They run isolated from the main conversation.</p>
      <p style="margin-top: 8px;"><strong>Skills</strong> (<code>.claude/skills/</code>) are domain expertise containers with instructions, templates, and references. Agents preload skills at startup for domain knowledge.</p>
      <p style="margin-top: 8px; color: var(--text-muted); font-size: 13px;">Think of agents as specialists hired for specific jobs, and skills as the training manuals they carry.</p>
    </div>

    <h2>Agents Created</h2>
    <div class="card">
      <div class="card-label">5 Agents &mdash; <span class="count-badge">.claude/agents/</span></div>
      <table>
        <tr><th>Agent</th><th>Purpose</th><th>Skills</th></tr>
        <tr><td>frontend-builder</td><td>Build screens &amp; components</td><td>screen-builder, quality-gate</td></tr>
        <tr><td>requirements-interrogator</td><td>Question features before building</td><td>pre-build-interrogator</td></tr>
        <tr><td>design-auditor</td><td>Audit screens against design system</td><td>design-audit</td></tr>
        <tr><td>feature-strategist</td><td>Competitive analysis &amp; feature planning</td><td>feature-strategy</td></tr>
        <tr><td>doc-sync</td><td>Keep docs synchronized with code</td><td>doc-sync</td></tr>
      </table>
    </div>

    <h3>How to Invoke</h3>
    <div class="card">
      <div class="card-label">Calling Convention</div>
      <p>Use explicit delegation (recommended):</p>
      <ul>
        <li><code>Use the frontend-builder agent to build PageHeader</code></li>
        <li><code>Have the design-auditor agent review the jobs screen</code></li>
        <li><code>Ask requirements-interrogator about the Kanban board workflow</code></li>
        <li><code>Use feature-strategist for quote system competitive analysis</code></li>
        <li><code>Have doc-sync check APP_FLOW against built screens</code></li>
      </ul>
    </div>

    <hr>

    <h2>Skills Created</h2>
    <div class="card">
      <div class="card-label">4 New Skills &mdash; <span class="count-badge">.claude/skills/</span></div>
      <table>
        <tr><th>Skill</th><th>Files</th><th>Purpose</th></tr>
        <tr><td>pre-build-interrogator</td><td>SKILL.md + spike template</td><td>Exhaustive questioning before building</td></tr>
        <tr><td>design-audit</td><td>SKILL.md + 15-dimension audit ref</td><td>Jobs/Ive-style design review</td></tr>
        <tr><td>feature-strategy</td><td>SKILL.md + frameworks ref + plan template</td><td>Product strategy &amp; feature discovery</td></tr>
        <tr><td>doc-sync</td><td>SKILL.md + drift detection checklist</td><td>Documentation synchronization</td></tr>
      </table>
      <p style="margin-top: 8px; color: var(--text-muted); font-size: 13px;">Added to existing 2 skills (screen-builder, quality-gate). Total: 6 skills.</p>
    </div>

    <hr>

    <h2>Orchestration Patterns</h2>
    <div class="card">
      <div class="card-label">4 Workflow Chains</div>
      <table>
        <tr><th>Pattern</th><th>Chain</th><th>Use For</th></tr>
        <tr><td>Linear</td><td>builder &rarr; quality-gate &rarr; progress</td><td>Steps 2, 3, 5, 7, 8, 9</td></tr>
        <tr><td>Pre-Build</td><td>interrogator &rarr; spike &rarr; builder &rarr; gate</td><td>Steps 4, 6</td></tr>
        <tr><td>Checkpoint</td><td>auditor &rarr; report &rarr; approval &rarr; fixes</td><td>After Steps 3, 6, 10</td></tr>
        <tr><td>Competitive</td><td>strategist &rarr; plan &rarr; approval</td><td>Print Life analysis</td></tr>
      </table>
    </div>

    <hr>

    <h2>Files Created &amp; Modified</h2>

    <h3>Created <span class="count-badge">18 files</span></h3>
    <ul>
      <li><code>docs/AGENTS.md</code> &mdash; Agent registry, orchestration, calling conventions</li>
      <li><code>.claude/agents/frontend-builder.md</code></li>
      <li><code>.claude/agents/requirements-interrogator.md</code></li>
      <li><code>.claude/agents/design-auditor.md</code></li>
      <li><code>.claude/agents/feature-strategist.md</code></li>
      <li><code>.claude/agents/doc-sync.md</code></li>
      <li><code>.claude/skills/pre-build-interrogator/SKILL.md</code></li>
      <li><code>.claude/skills/pre-build-interrogator/templates/spike-template.md</code></li>
      <li><code>.claude/skills/design-audit/SKILL.md</code></li>
      <li><code>.claude/skills/design-audit/reference/audit-dimensions.md</code></li>
      <li><code>.claude/skills/feature-strategy/SKILL.md</code></li>
      <li><code>.claude/skills/feature-strategy/reference/feature-frameworks.md</code></li>
      <li><code>.claude/skills/feature-strategy/templates/feature-plan-template.md</code></li>
      <li><code>.claude/skills/doc-sync/SKILL.md</code></li>
      <li><code>.claude/skills/doc-sync/checklists/drift-detection.md</code></li>
      <li><code>agent-outputs/README.md</code></li>
      <li><code>agent-outputs/.gitkeep</code></li>
      <li><code>for_human/session-2026-02-08-agent-architecture.html</code> (this file)</li>
    </ul>

    <h3>Modified</h3>
    <ul>
      <li><code>CLAUDE.md</code> &mdash; Added AGENTS.md to canonical docs, updated "Project Skills" &rarr; "Agent &amp; Skill Infrastructure", added agent-outputs/ and .claude/ to architecture tree</li>
    </ul>

    <hr>

    <h2>Decision Rationale</h2>
    <ul>
      <li><strong>5 agents, not 3</strong>: doc-sync and feature-strategist seem "nice to have" but they prevent the two biggest Phase 1 risks: stale docs and building a "me too" product.</li>
      <li><strong>Skills as knowledge, agents as workflow</strong>: Skills are reusable across agents. The design-audit skill could be preloaded into a different agent in Phase 2 without rewriting it.</li>
      <li><strong>Read-only where possible</strong>: interrogator, auditor, and strategist are read-only by design. This prevents accidental code changes from analysis agents.</li>
      <li><strong>agent-outputs/ for audit trail</strong>: Every agent run produces structured markdown. This makes debugging agent behavior possible and creates a project history.</li>
      <li><strong>Deferred to Phase 2</strong>: Agent nesting, continuous learning, multi-agent teams, and script-heavy agents add complexity not justified for Phase 1 mockup work.</li>
    </ul>

    <div class="resume-box">
      <div class="card-label">Resume this session</div>
      <div class="code-block">claude --resume 5799011a-0503-4ea3-b856-2d19cf66b9ac</div>
    </div>

    <footer>
      Screen Print Pro &mdash; Agent Architecture &mdash; 2026-02-08
    </footer>
  </div>
</body>
</html>
