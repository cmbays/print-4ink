[
  {
    "id": "U-DRY-1",
    "name": "No duplicated status-to-color/icon mapping",
    "concern": "dry-extraction",
    "severity": "major",
    "agent": "build-reviewer",
    "category": "dry-extraction",
    "description": "Detects when the same status-to-color or status-to-icon mapping logic appears in multiple components, violating DRY and creating maintenance risk when status values change",
    "detection": "Same status-to-color or status-to-icon logic duplicated across two or more components in the codebase",
    "recommendation": "Extract a single getStatusConfig() utility or create a reusable StatusBadge component that centralizes the mapping",
    "goodExample": "const config = getStatusConfig(status); // Single source of truth",
    "scope": "cross-file"
  },
  {
    "id": "U-DRY-2",
    "name": "No duplicated filter/sort logic",
    "concern": "dry-extraction",
    "severity": "warning",
    "agent": "build-reviewer",
    "category": "dry-extraction",
    "description": "Detects when similar filter() or sort() chains are written across multiple list views instead of being shared through a hook or utility",
    "detection": "Similar filter() or sort() chains appearing in multiple list view components or pages",
    "recommendation": "Create a shared useFilteredData() hook or utility function that encapsulates the common filtering and sorting logic",
    "goodExample": "const { data, filters } = useFilteredData(items, filterConfig);",
    "scope": "cross-file"
  },
  {
    "id": "U-DRY-3",
    "name": "No copy-pasted component structures",
    "concern": "dry-extraction",
    "severity": "major",
    "agent": "build-reviewer",
    "category": "dry-extraction",
    "description": "Detects when two components share more than 70% structural similarity, indicating they should be consolidated into a shared base with variant props",
    "detection": "Two or more components with greater than 70% structural similarity in their JSX and logic",
    "recommendation": "Extract a shared base component with variant props to eliminate the structural duplication",
    "goodExample": "<Card variant=\"quote\" data={item} /> // Shared component with variants",
    "scope": "cross-file"
  },
  {
    "id": "U-DRY-4",
    "name": "No repeated mock data construction",
    "concern": "dry-extraction",
    "severity": "warning",
    "agent": "build-reviewer",
    "category": "dry-extraction",
    "description": "Detects when the same mock object shapes are built in multiple test files instead of using shared test fixtures",
    "detection": "Same mock object shape constructed manually in multiple test files across the test suite",
    "recommendation": "Create shared test fixtures in a __tests__/fixtures/ directory and import them across test files",
    "goodExample": "import { mockQuote } from '@/__tests__/fixtures/quotes';",
    "scope": "cross-file"
  },
  {
    "id": "U-DRY-5",
    "name": "No duplicated Zod schema fragments",
    "concern": "dry-extraction",
    "severity": "major",
    "agent": "build-reviewer",
    "category": "dry-extraction",
    "description": "Detects when the same field definitions like name, email, or phone appear duplicated across multiple Zod schemas instead of being extracted",
    "detection": "Same field definitions such as name, email, or phone repeated across multiple Zod schema files",
    "recommendation": "Extract shared field schemas into a base module and compose them into domain-specific schemas",
    "goodExample": "const contactFields = { name: z.string().min(1), email: z.string().email() };",
    "scope": "cross-file"
  },
  {
    "id": "U-MOD-1",
    "name": "No god components over 300 lines",
    "concern": "modularity",
    "severity": "major",
    "agent": "build-reviewer",
    "category": "modularity",
    "description": "Detects single component files exceeding 300 lines of code, which are difficult to understand, test, and maintain",
    "detection": "Single component file exceeding 300 lines of code including JSX, hooks, and handlers",
    "recommendation": "Split into a container component for logic and presentational sub-components for rendering",
    "scope": "local"
  },
  {
    "id": "U-MOD-2",
    "name": "No deeply nested ternaries in JSX",
    "concern": "modularity",
    "severity": "warning",
    "agent": "build-reviewer",
    "category": "modularity",
    "description": "Detects three or more levels of conditional rendering inline in JSX, which harms readability and makes the component hard to reason about",
    "detection": "Three or more levels of nested ternary expressions or conditional rendering inline in JSX",
    "recommendation": "Extract conditional blocks into named sub-components or use early returns to flatten the logic",
    "scope": "local"
  },
  {
    "id": "U-MOD-3",
    "name": "Props interface has 8 or fewer props",
    "concern": "modularity",
    "severity": "warning",
    "agent": "build-reviewer",
    "category": "modularity",
    "description": "Detects components accepting more than 8 props, which signals the component is doing too much or needs its props grouped",
    "detection": "Component accepting more than 8 individual props in its interface or type definition",
    "recommendation": "Group related props into objects or split the component into smaller, more focused units",
    "scope": "local"
  },
  {
    "id": "U-MOD-4",
    "name": "No business logic in UI components",
    "concern": "modularity",
    "severity": "major",
    "agent": "build-reviewer",
    "category": "modularity",
    "description": "Detects calculations, data transformations, or business logic directly in render functions rather than separated into hooks or utilities",
    "detection": "Mathematical calculations, data transformations, or business rule evaluation inside component render functions",
    "recommendation": "Extract business logic into a custom hook or utility function, keeping the component focused on presentation",
    "scope": "local"
  },
  {
    "id": "U-MOD-5",
    "name": "Single responsibility per file",
    "concern": "modularity",
    "severity": "warning",
    "agent": "build-reviewer",
    "category": "modularity",
    "description": "Detects files that export multiple unrelated components or functions, violating the single responsibility principle",
    "detection": "File exporting multiple unrelated components, hooks, or utility functions that serve different purposes",
    "recommendation": "Keep one primary export per file with only co-located helper functions that directly support it",
    "scope": "local"
  },
  {
    "id": "U-MOD-6",
    "name": "No circular imports",
    "concern": "modularity",
    "severity": "critical",
    "agent": "build-reviewer",
    "category": "modularity",
    "description": "Detects circular import chains where module A imports B and B imports A, causing runtime errors and architectural degradation",
    "detection": "Module A imports from module B while module B also imports from module A, creating a circular dependency",
    "recommendation": "Restructure the dependency graph by extracting shared types or logic into a third module that both can import",
    "scope": "architectural"
  },
  {
    "id": "U-TYPE-1",
    "name": "No explicit any type annotations",
    "concern": "type-safety",
    "severity": "critical",
    "agent": "build-reviewer",
    "category": "type-safety",
    "description": "Detects explicit any type annotations which completely bypass TypeScript's type system and hide bugs at compile time",
    "detection": "Explicit any in type positions including function parameters, return types, variable declarations, and generic arguments",
    "recommendation": "Use proper types, unknown for truly dynamic values, or z.infer<typeof schema> for Zod-backed types",
    "goodExample": "type Quote = z.infer<typeof quoteSchema>;",
    "scope": "local"
  },
  {
    "id": "U-TYPE-2",
    "name": "No unjustified type assertions",
    "concern": "type-safety",
    "severity": "major",
    "agent": "build-reviewer",
    "category": "type-safety",
    "description": "Detects type assertions (as SomeType) used without an explanatory comment, which can mask type errors and hide bugs",
    "detection": "Type assertions using 'as SomeType' syntax without a comment explaining why the assertion is safe and necessary",
    "recommendation": "Use type narrowing via type guards or Zod .parse() instead of assertions when possible",
    "goodExample": "const data = schema.parse(rawInput); // Validated at runtime",
    "scope": "local"
  },
  {
    "id": "U-TYPE-3",
    "name": "Types derived from Zod schemas",
    "concern": "type-safety",
    "severity": "major",
    "agent": "build-reviewer",
    "category": "type-safety",
    "description": "Detects standalone TypeScript interfaces that parallel existing Zod schemas instead of using z.infer for a single source of truth",
    "detection": "Standalone interface or type definition that mirrors fields already defined in a Zod schema",
    "recommendation": "Use z.infer<typeof schema> to derive the type directly from the Zod schema as the single source of truth",
    "goodExample": "type Quote = z.infer<typeof quoteSchema>; // Single source of truth",
    "scope": "cross-file"
  },
  {
    "id": "U-TYPE-4",
    "name": "No non-null assertions on data boundaries",
    "concern": "type-safety",
    "severity": "warning",
    "agent": "build-reviewer",
    "category": "type-safety",
    "description": "Detects non-null assertions (!) used on data from external sources or API boundaries where null or undefined is a real possibility",
    "detection": "Non-null assertion operator (!) used on data from external sources, API responses, or props that could legitimately be null",
    "recommendation": "Use optional chaining (?.) or explicit null checks instead of non-null assertions at data boundaries",
    "goodExample": "const name = data?.customer?.name ?? 'Unknown';",
    "scope": "local"
  },
  {
    "id": "U-TYPE-5",
    "name": "Event handlers properly typed",
    "concern": "type-safety",
    "severity": "warning",
    "agent": "build-reviewer",
    "category": "type-safety",
    "description": "Detects event handlers with any-typed parameters instead of using proper React event types for type safety and editor support",
    "detection": "Event handler parameters typed as any or with missing type annotations in React component code",
    "recommendation": "Use React's built-in event types like React.ChangeEvent<HTMLInputElement> for proper type safety",
    "goodExample": "const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => { ... };",
    "scope": "local"
  },
  {
    "id": "U-TOK-1",
    "name": "No hard-coded color values",
    "concern": "design-tokens",
    "severity": "critical",
    "agent": "build-reviewer",
    "category": "design-tokens",
    "description": "Detects hard-coded hex codes, rgb() values, or Tailwind palette colors instead of semantic design tokens from the project theme",
    "detection": "Hex codes like #fff, rgb() values, or Tailwind palette classes like text-blue-500 used in component files",
    "recommendation": "Use semantic design tokens: text-foreground, bg-elevated, text-action, text-success, text-error, text-warning",
    "goodExample": "<span className=\"text-foreground\">Primary text</span>",
    "scope": "local"
  },
  {
    "id": "U-TOK-2",
    "name": "No hard-coded spacing values",
    "concern": "design-tokens",
    "severity": "major",
    "agent": "build-reviewer",
    "category": "design-tokens",
    "description": "Detects arbitrary spacing values outside the 8px scale, creating visual inconsistency across the application",
    "detection": "Arbitrary Tailwind values like p-[13px] or mt-[7px] that fall outside the standard 8px spacing scale",
    "recommendation": "Use Tailwind's standard spacing scale: p-2 (8px), mt-4 (16px), gap-3 (12px) following the 8px base",
    "scope": "local"
  },
  {
    "id": "U-TOK-3",
    "name": "No hard-coded border radius",
    "concern": "design-tokens",
    "severity": "warning",
    "agent": "build-reviewer",
    "category": "design-tokens",
    "description": "Detects arbitrary border radius values instead of using the project's defined radius tokens for visual consistency",
    "detection": "Arbitrary border radius values like rounded-[5px] or inline border-radius styles in component code",
    "recommendation": "Use project radius tokens: rounded-sm (4px), rounded-md (8px), rounded-lg (12px) per the design system",
    "scope": "local"
  },
  {
    "id": "U-TOK-4",
    "name": "No hard-coded z-index values",
    "concern": "design-tokens",
    "severity": "major",
    "agent": "build-reviewer",
    "category": "design-tokens",
    "description": "Detects arbitrary z-index values that conflict with the project's z-index scale and cause stacking context bugs",
    "detection": "Arbitrary z-index values like z-[999] or z-[100] that are not part of the defined z-index scale",
    "recommendation": "Use scale tokens: z-10 for sticky headers, z-40 for action bars and FABs, z-50 for modals and navigation",
    "scope": "local"
  },
  {
    "id": "U-TOK-5",
    "name": "className uses cn() helper",
    "concern": "design-tokens",
    "severity": "warning",
    "agent": "build-reviewer",
    "category": "design-tokens",
    "description": "Detects className string concatenation instead of using the cn() utility which handles conditional classes and merges Tailwind classes correctly",
    "detection": "String concatenation in className props such as className={'foo ' + bar} or template literals for class merging",
    "recommendation": "Use cn() from @/lib/utils for all className composition to properly merge Tailwind classes",
    "goodExample": "className={cn('base-class', isActive && 'active-class', className)}",
    "scope": "local"
  },
  {
    "id": "U-TOK-6",
    "name": "No inline style for layout",
    "concern": "design-tokens",
    "severity": "major",
    "agent": "build-reviewer",
    "category": "design-tokens",
    "description": "Detects inline style objects used for layout properties like margins, padding, or colors instead of Tailwind utilities",
    "detection": "Inline style={{}} objects with layout properties like marginTop, padding, color, or fontSize in component code",
    "recommendation": "Use Tailwind utility classes for all layout styling, reserving inline styles only for truly dynamic computed values",
    "scope": "local"
  },
  {
    "id": "U-NAM-1",
    "name": "Components use PascalCase filenames",
    "concern": "naming-conventions",
    "severity": "warning",
    "agent": "build-reviewer",
    "category": "naming-conventions",
    "description": "Detects component files using kebab-case or other naming patterns instead of PascalCase which is the React convention",
    "detection": "Component files named with kebab-case like quote-calculator.tsx instead of PascalCase",
    "recommendation": "Name component files using PascalCase to match the exported component name per React conventions",
    "goodExample": "QuoteCalculator.tsx exports function QuoteCalculator()",
    "scope": "local"
  },
  {
    "id": "U-NAM-2",
    "name": "Hooks prefixed with use",
    "concern": "naming-conventions",
    "severity": "warning",
    "agent": "build-reviewer",
    "category": "naming-conventions",
    "description": "Detects custom hook functions that call React hooks but are not prefixed with 'use', violating React's rules of hooks",
    "detection": "Functions calling useState, useEffect, or other hooks but named without the 'use' prefix",
    "recommendation": "Prefix all custom hooks with 'use' so React can enforce the rules of hooks at lint time",
    "goodExample": "function useFilterState() { const [filter, setFilter] = useState(''); ... }",
    "scope": "local"
  },
  {
    "id": "U-NAM-3",
    "name": "Constants use SCREAMING_SNAKE_CASE",
    "concern": "naming-conventions",
    "severity": "info",
    "agent": "build-reviewer",
    "category": "naming-conventions",
    "description": "Detects constants defined with camelCase or other casing instead of SCREAMING_SNAKE_CASE in constant definition files",
    "detection": "Constants in constant definition files using camelCase like maxRetries instead of SCREAMING_SNAKE_CASE",
    "recommendation": "Use SCREAMING_SNAKE_CASE for module-level constants to clearly distinguish them from variables",
    "goodExample": "const MAX_RETRIES = 3;",
    "scope": "local"
  },
  {
    "id": "U-NAM-4",
    "name": "Boolean props prefixed with is/has/should",
    "concern": "naming-conventions",
    "severity": "info",
    "agent": "build-reviewer",
    "category": "naming-conventions",
    "description": "Detects boolean props without semantic prefixes, making it unclear that the prop expects a boolean value",
    "detection": "Boolean component props without is/has/should prefix, except standard HTML attributes like disabled",
    "recommendation": "Prefix boolean props with is, has, or should to make the expected value type clear at usage sites",
    "goodExample": "<Button isDisabled isLoading> instead of <Button disabled loading>",
    "scope": "local"
  },
  {
    "id": "U-NAM-5",
    "name": "Event handler props prefixed with on",
    "concern": "naming-conventions",
    "severity": "warning",
    "agent": "build-reviewer",
    "category": "naming-conventions",
    "description": "Detects event handler callback props without the 'on' prefix, breaking the React convention for event handlers",
    "detection": "Callback props for events named without the 'on' prefix like close={fn} instead of onClose={fn}",
    "recommendation": "Prefix all event handler callback props with 'on' following React naming conventions",
    "goodExample": "<Modal onClose={handleClose} onSubmit={handleSubmit} />",
    "scope": "local"
  },
  {
    "id": "U-DEP-1",
    "name": "No unused imports",
    "concern": "import-hygiene",
    "severity": "warning",
    "agent": "build-reviewer",
    "category": "import-hygiene",
    "description": "Detects imported symbols that are never referenced in the file, adding unnecessary bundle weight and confusion",
    "detection": "Imported symbols, types, or modules that are not referenced anywhere in the importing file",
    "recommendation": "Remove all unused imports to keep files clean and reduce potential bundle size impact",
    "scope": "local"
  },
  {
    "id": "U-DEP-2",
    "name": "No deep imports into ui/ internals",
    "concern": "import-hygiene",
    "severity": "major",
    "agent": "build-reviewer",
    "category": "import-hygiene",
    "description": "Detects imports reaching into the internal implementation details of shadcn/ui components instead of using the public API",
    "detection": "Import paths that reach into internal directories of @/components/ui/ beyond the public barrel exports",
    "recommendation": "Import only from the public API of ui components to maintain encapsulation as shadcn upgrades",
    "goodExample": "import { Button } from '@/components/ui/button';",
    "scope": "cross-file"
  },
  {
    "id": "U-DEP-3",
    "name": "No relative imports crossing feature boundaries",
    "concern": "import-hygiene",
    "severity": "warning",
    "agent": "build-reviewer",
    "category": "import-hygiene",
    "description": "Detects relative import paths that reach across feature boundaries, creating brittle coupling between feature modules",
    "detection": "Relative imports with multiple parent traversals like ../../features/quotes/ crossing between feature directories",
    "recommendation": "Use the @/ path alias for cross-feature imports to maintain clear module boundaries",
    "goodExample": "import { QuoteCard } from '@/components/features/quotes/QuoteCard';",
    "scope": "cross-file"
  },
  {
    "id": "U-DEP-4",
    "name": "No new dependencies without TECH_STACK.md check",
    "concern": "import-hygiene",
    "severity": "critical",
    "agent": "build-reviewer",
    "category": "import-hygiene",
    "description": "Detects new package dependencies added to package.json that are not listed in the approved TECH_STACK.md document",
    "detection": "New entries in package.json dependencies or devDependencies for packages not listed in docs/TECH_STACK.md",
    "recommendation": "Check TECH_STACK.md before adding any dependency, and get explicit approval for unlisted packages",
    "scope": "architectural"
  },
  {
    "id": "D-FIN-1",
    "name": "No native arithmetic on money values",
    "concern": "financial-arithmetic",
    "severity": "critical",
    "agent": "finance-sme",
    "category": "financial-arithmetic",
    "description": "Detects JavaScript native arithmetic operators used on monetary values, which causes IEEE 754 floating-point errors",
    "detection": "Native arithmetic operators (+, -, *, /) used on variables named price, cost, total, amount, fee, tax, deposit, subtotal, markup, margin, or discount",
    "recommendation": "Use big.js via the money() wrapper from lib/helpers/money.ts for all monetary arithmetic operations",
    "goodExample": "money(price).times(quantity) // Instead of price * quantity",
    "scope": "local"
  },
  {
    "id": "D-FIN-2",
    "name": "All display values use round2()",
    "concern": "financial-arithmetic",
    "severity": "critical",
    "agent": "finance-sme",
    "category": "financial-arithmetic",
    "description": "Detects monetary values displayed using toFixed(2) or bare numbers instead of the round2() wrapper that uses big.js rounding",
    "detection": "Usage of toFixed(2) or displaying bare numeric money values without round2() from lib/helpers/money.ts",
    "recommendation": "Use round2(value) from lib/helpers/money.ts for all monetary display values to ensure correct rounding",
    "goodExample": "round2(subtotal) // big.js-backed rounding, not toFixed(2)",
    "scope": "local"
  },
  {
    "id": "D-FIN-3",
    "name": "No === equality on money values",
    "concern": "financial-arithmetic",
    "severity": "critical",
    "agent": "finance-sme",
    "category": "financial-arithmetic",
    "description": "Detects strict equality comparison on monetary values which fails due to floating-point representation differences",
    "detection": "Strict equality (===) or loose equality (==) used to compare monetary values or calculation results",
    "recommendation": "Use Big(total).eq(expected) for exact monetary comparisons via the big.js library",
    "goodExample": "Big(computedTotal).eq(expectedTotal) // Exact comparison",
    "scope": "local"
  },
  {
    "id": "D-FIN-4",
    "name": "Tax/percentage calculations via big.js",
    "concern": "financial-arithmetic",
    "severity": "critical",
    "agent": "finance-sme",
    "category": "financial-arithmetic",
    "description": "Detects tax rate or percentage calculations using native multiplication which causes IEEE 754 errors on fractional multipliers",
    "detection": "Native multiplication with tax rates, discount percentages, or other fractional values on monetary amounts",
    "recommendation": "Use money(price).times(taxRate) via the big.js wrapper for all percentage and tax calculations",
    "goodExample": "money(price).times(taxRate) // Instead of price * 0.0825",
    "scope": "local"
  },
  {
    "id": "D-FIN-5",
    "name": "No Math.round() on money",
    "concern": "financial-arithmetic",
    "severity": "critical",
    "agent": "finance-sme",
    "category": "financial-arithmetic",
    "description": "Detects Math.round() used on monetary values which does not properly handle banker's rounding and edge cases",
    "detection": "Math.round(), Math.floor(), or Math.ceil() applied to monetary amounts or price calculations",
    "recommendation": "Use round2(price) from lib/helpers/money.ts which is backed by big.js for correct monetary rounding",
    "goodExample": "round2(price) // Instead of Math.round(price * 100) / 100",
    "scope": "local"
  },
  {
    "id": "D-FIN-6",
    "name": "Subtotal/total invariants verified",
    "concern": "financial-arithmetic",
    "severity": "major",
    "agent": "finance-sme",
    "category": "financial-arithmetic",
    "description": "Detects computed totals that lack invariant verification, allowing silent arithmetic drift between line items and their sum",
    "detection": "Computed totals or subtotals without corresponding assertion that line item sum equals the computed value",
    "recommendation": "Assert that lineItems sum equals the subtotal using Big.eq() for exact comparison in both code and tests",
    "goodExample": "assert(Big(lineItems.reduce(...)).eq(subtotal)); // Invariant check",
    "scope": "cross-file"
  },
  {
    "id": "D-FIN-7",
    "name": "Currency display uses consistent formatting",
    "concern": "financial-arithmetic",
    "severity": "warning",
    "agent": "finance-sme",
    "category": "financial-arithmetic",
    "description": "Detects inconsistent currency formatting approaches across the codebase instead of using a single formatCurrency utility",
    "detection": "Mixed currency formatting approaches like template literals ($${val}) alongside Intl.NumberFormat in different files",
    "recommendation": "Use a single formatCurrency() utility throughout the application for consistent monetary display",
    "goodExample": "formatCurrency(amount) // Single consistent formatting utility",
    "scope": "cross-file"
  },
  {
    "id": "D-FIN-8",
    "name": "Edge cases: zero, negative, very large values",
    "concern": "financial-arithmetic",
    "severity": "major",
    "agent": "finance-sme",
    "category": "financial-arithmetic",
    "description": "Detects financial calculations that lack boundary testing for edge case values that commonly cause display or logic errors",
    "detection": "Financial calculations without test coverage for zero amounts, negative discounts, and very large values like $999,999.99",
    "recommendation": "Add test cases for $0.00, negative discounts, maximum expected values, and single-cent amounts",
    "scope": "local"
  },
  {
    "id": "D-DSN-1",
    "name": "Visual hierarchy: one primary action per view",
    "concern": "design-system",
    "severity": "major",
    "agent": "design-auditor",
    "category": "design-system",
    "description": "Detects views with multiple elements competing for visual attention, violating the single primary action principle of the design system",
    "detection": "Multiple visually prominent elements (bold colors, large size, neobrutalist shadow) competing for attention in one view",
    "recommendation": "Ensure a single prominent CTA per view with secondary actions visually subdued using muted styles",
    "scope": "local"
  },
  {
    "id": "D-DSN-2",
    "name": "Max 3-4 font sizes per screen",
    "concern": "design-system",
    "severity": "warning",
    "agent": "design-auditor",
    "category": "design-system",
    "description": "Detects screens using too many different font sizes, creating typography soup that undermines visual consistency",
    "detection": "More than four distinct font size classes or values used within a single screen or page component",
    "recommendation": "Limit each screen to a consistent heading, body, and caption scale with at most four size levels",
    "scope": "local"
  },
  {
    "id": "D-DSN-3",
    "name": "Status colors only for semantic meaning",
    "concern": "design-system",
    "severity": "major",
    "agent": "design-auditor",
    "category": "design-system",
    "description": "Detects color tokens used for decoration rather than conveying semantic meaning about status or state",
    "detection": "Status color tokens (text-action, text-success, text-error, text-warning) used on non-status elements as decoration",
    "recommendation": "Maintain a monochrome base and reserve status colors exclusively for semantic meaning like success, error, or warning",
    "scope": "local"
  },
  {
    "id": "D-DSN-4",
    "name": "All interactive elements have 4 states",
    "concern": "design-system",
    "severity": "major",
    "agent": "design-auditor",
    "category": "design-system",
    "description": "Detects interactive elements like buttons and links that only style the default state, missing required interaction states",
    "detection": "Interactive elements (buttons, links, inputs) without hover, focus-visible, active, and disabled state styles",
    "recommendation": "Define all four interaction states: hover, focus-visible, active, and disabled for every interactive element",
    "scope": "local"
  },
  {
    "id": "D-DSN-5",
    "name": "Icons from Lucide only, consistent sizes",
    "concern": "design-system",
    "severity": "warning",
    "agent": "design-auditor",
    "category": "design-system",
    "description": "Detects usage of icon libraries other than Lucide React or inconsistent icon sizing across the application",
    "detection": "Icons from libraries other than lucide-react, or Lucide icons used at sizes other than 16, 20, or 24 pixels",
    "recommendation": "Use only lucide-react icons at the standard sizes of 16px, 20px, or 24px per the design system",
    "goodExample": "<Settings className=\"h-5 w-5\" /> // 20px Lucide icon",
    "scope": "local"
  },
  {
    "id": "D-DSN-6",
    "name": "Empty, loading, and error states designed",
    "concern": "design-system",
    "severity": "major",
    "agent": "design-auditor",
    "category": "design-system",
    "description": "Detects components that only handle the happy path without designing for empty data, loading, and error conditions",
    "detection": "Component rendering only the happy path data display without skeleton loaders, empty state messages, or error boundaries",
    "recommendation": "Design skeleton or spinner for loading, meaningful empty state messages, and error boundary fallback for every component",
    "scope": "local"
  },
  {
    "id": "D-DSN-7",
    "name": "Neobrutalist shadow on primary CTAs only",
    "concern": "design-system",
    "severity": "warning",
    "agent": "design-auditor",
    "category": "design-system",
    "description": "Detects the distinctive neobrutalist box shadow used on non-primary elements, diluting its attention-drawing purpose",
    "detection": "4px 4px 0px box shadow (shadow-action) applied to secondary buttons, cards, or non-CTA elements",
    "recommendation": "Reserve the neobrutalist 4px 4px 0px shadow exclusively for primary call-to-action buttons and elements",
    "scope": "local"
  },
  {
    "id": "D-DSN-8",
    "name": "Glass/elevated surfaces use correct tokens",
    "concern": "design-system",
    "severity": "warning",
    "agent": "design-auditor",
    "category": "design-system",
    "description": "Detects surfaces using raw Tailwind color classes instead of the semantic elevation tokens from the design system",
    "detection": "Usage of bg-gray-800, bg-neutral-900, or other raw Tailwind background classes instead of semantic tokens",
    "recommendation": "Use bg-elevated for cards and panels, bg-surface for interactive surfaces per the design system token hierarchy",
    "goodExample": "<Card className=\"bg-elevated border-border\" />",
    "scope": "cross-file"
  },
  {
    "id": "D-MOB-1",
    "name": "No bare group-hover:opacity without md: prefix",
    "concern": "mobile-responsive",
    "severity": "critical",
    "agent": "design-auditor",
    "category": "mobile-responsive",
    "description": "Detects hover-dependent opacity that is invisible by default on touch devices where hover state does not exist",
    "detection": "opacity-0 group-hover:opacity-100 pattern without md: prefix, hiding content permanently on mobile devices",
    "recommendation": "Always prefix hover opacity with md: so content is visible by default on touch devices",
    "goodExample": "md:opacity-0 md:group-hover:opacity-100 // Visible on mobile, hover on desktop",
    "scope": "local"
  },
  {
    "id": "D-MOB-2",
    "name": "Touch targets at least 44px on mobile",
    "concern": "mobile-responsive",
    "severity": "major",
    "agent": "design-auditor",
    "category": "mobile-responsive",
    "description": "Detects interactive mobile elements smaller than the 44px minimum touch target size required for comfortable touch interaction",
    "detection": "Interactive elements on mobile with height or width below 44px (the --mobile-touch-target CSS variable value)",
    "recommendation": "Apply min-h-(--mobile-touch-target) on all mobile interactive elements including buttons, links, and filter chips",
    "scope": "local"
  },
  {
    "id": "D-MOB-3",
    "name": "Headers stack on mobile",
    "concern": "mobile-responsive",
    "severity": "major",
    "agent": "design-auditor",
    "category": "mobile-responsive",
    "description": "Detects horizontal header layouts that overflow on small screens instead of stacking vertically on mobile",
    "detection": "Header sections using flex justify-between without responsive stacking via flex-col on mobile breakpoints",
    "recommendation": "Use flex flex-col gap-3 md:flex-row md:items-center md:justify-between for responsive header layouts",
    "goodExample": "<div className=\"flex flex-col gap-3 md:flex-row md:items-center md:justify-between\">",
    "scope": "local"
  },
  {
    "id": "D-MOB-4",
    "name": "Use md: as single breakpoint",
    "concern": "mobile-responsive",
    "severity": "warning",
    "agent": "design-auditor",
    "category": "mobile-responsive",
    "description": "Detects usage of multiple responsive breakpoints instead of the single md: (768px) breakpoint defined by the design system",
    "detection": "Tailwind breakpoint prefixes other than md: such as sm:, lg:, or xl: used in component responsive styles",
    "recommendation": "Use only the md: breakpoint (768px) for responsive layouts â€” below is mobile, above is desktop",
    "scope": "local"
  },
  {
    "id": "D-MOB-5",
    "name": "CSS-first responsive, not JS-first",
    "concern": "mobile-responsive",
    "severity": "warning",
    "agent": "design-auditor",
    "category": "mobile-responsive",
    "description": "Detects JavaScript-based responsive logic like useIsMobile() for simple show/hide that could be done with CSS breakpoints",
    "detection": "useIsMobile() hook or window.innerWidth checks used for show/hide logic that CSS breakpoints can handle",
    "recommendation": "Use md:hidden and hidden md:block CSS classes for show/hide responsive behavior to avoid hydration risk",
    "goodExample": "<MobileNav className=\"md:hidden\" /> <DesktopNav className=\"hidden md:block\" />",
    "scope": "local"
  },
  {
    "id": "D-MOB-6",
    "name": "Bottom safe area padding",
    "concern": "mobile-responsive",
    "severity": "warning",
    "agent": "design-auditor",
    "category": "mobile-responsive",
    "description": "Detects fixed bottom elements without safe area padding, causing content to be obscured by the home indicator on notched devices",
    "detection": "Fixed-position bottom elements (bottom navigation, action bars) without pb-safe utility class",
    "recommendation": "Apply the pb-safe utility on all bottom-fixed UI elements to respect device safe areas",
    "scope": "local"
  },
  {
    "id": "D-MOB-7",
    "name": "Mobile navigation constants imported",
    "concern": "mobile-responsive",
    "severity": "warning",
    "agent": "design-auditor",
    "category": "mobile-responsive",
    "description": "Detects hard-coded navigation heights or dimensions instead of importing shared constants from the navigation module",
    "detection": "Hard-coded pixel values for navigation bar heights or bottom tab bar dimensions in component files",
    "recommendation": "Import navigation dimensions from lib/constants/navigation.ts to keep them consistent across all layout components",
    "goodExample": "import { BOTTOM_TAB_HEIGHT } from '@/lib/constants/navigation';",
    "scope": "cross-file"
  }
]
