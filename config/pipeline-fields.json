{
  "id": {
    "jsonType": "string",
    "description": "Unique pipeline identifier (YYYYMMDD-name)",
    "updatable": false,
    "required": true
  },
  "name": {
    "jsonType": "string",
    "description": "Kebab-case pipeline name",
    "updatable": false,
    "required": true
  },
  "type": {
    "jsonType": "string",
    "description": "Pipeline type (vertical, polish, horizontal, bug-fix)",
    "updatable": true,
    "required": true,
    "default": "vertical",
    "flag": "--type",
    "validate": {
      "source": "config/pipeline-types.json",
      "match": "slug"
    }
  },
  "auto": {
    "jsonType": "boolean",
    "description": "Skip human approvals (plan + merge)",
    "updatable": true,
    "required": false,
    "default": false,
    "flag": "--auto",
    "negateFlag": "--no-auto"
  },
  "issue": {
    "jsonType": "number",
    "description": "Linked GitHub issue number",
    "updatable": true,
    "required": false,
    "default": null,
    "flag": "--issue",
    "validate": {
      "type": "github-issue"
    }
  },
  "products": {
    "jsonType": "array",
    "description": "Linked product slugs",
    "updatable": true,
    "required": false,
    "default": [],
    "flag": "--products",
    "inputFormat": "csv",
    "validate": {
      "source": "config/products.json",
      "match": "slug"
    }
  },
  "tools": {
    "jsonType": "array",
    "description": "Linked tool slugs",
    "updatable": true,
    "required": false,
    "default": [],
    "flag": "--tools",
    "inputFormat": "csv",
    "validate": {
      "source": "config/tools.json",
      "match": "slug"
    }
  },
  "stage": {
    "jsonType": "string",
    "description": "Current pipeline stage (set by lifecycle commands)",
    "updatable": false,
    "required": true
  },
  "state": {
    "jsonType": "string",
    "description": "Current lifecycle state (ready, active, building, reviewing, wrapped, cooled)",
    "updatable": false,
    "required": true
  },
  "baseBranch": {
    "jsonType": "string",
    "description": "Base git branch for the pipeline",
    "updatable": false,
    "required": false,
    "default": null
  },
  "worktrees": {
    "jsonType": "array",
    "description": "Active git worktree paths",
    "updatable": false,
    "required": false,
    "default": []
  },
  "prs": {
    "jsonType": "object",
    "description": "Associated pull request metadata",
    "updatable": false,
    "required": false,
    "default": {}
  },
  "kbDocs": {
    "jsonType": "array",
    "description": "Knowledge base document references",
    "updatable": false,
    "required": false,
    "default": []
  },
  "artifacts": {
    "jsonType": "object",
    "description": "Stage-keyed artifact metadata",
    "updatable": false,
    "required": false,
    "default": {}
  },
  "createdAt": {
    "jsonType": "string",
    "description": "ISO-8601 creation timestamp",
    "updatable": false,
    "required": true
  },
  "startedAt": {
    "jsonType": "string",
    "description": "ISO-8601 start timestamp",
    "updatable": false,
    "required": false,
    "default": null
  },
  "completedAt": {
    "jsonType": "string",
    "description": "ISO-8601 completion timestamp",
    "updatable": false,
    "required": false,
    "default": null
  }
}
