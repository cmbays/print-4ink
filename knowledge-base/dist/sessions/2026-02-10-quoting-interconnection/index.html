<!DOCTYPE html><html lang="en"> <head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="description" content="Enhanced CustomerCombobox with lifecycle badges, enriched customer context, and cross-vertical search."><title>Quoting-Customer Interconnection &mdash; Screen Print Pro KB</title><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet"><link rel="stylesheet" href="/_astro/decisions.DGAibQh0.css"></head> <body>  <main class="max-w-[720px] mx-auto px-6 py-12"> <!-- Back link --> <a href="/" class="inline-flex items-center gap-1.5 text-text-muted text-sm hover:text-action transition-colors mb-8"> <span>&larr;</span> Back to Index
</a> <!-- Tag pills --> <div class="flex items-center gap-2 mb-4"> <span class="text-[11px] font-semibold uppercase tracking-wide px-2 py-0.5 rounded bg-success/12 text-success"> feature </span><span class="text-[11px] font-semibold uppercase tracking-wide px-2 py-0.5 rounded bg-success/12 text-success"> build </span> </div> <!-- Title --> <h1 class="text-[28px] font-bold tracking-tight leading-tight mb-2">Quoting-Customer Interconnection</h1> <!-- Subtitle --> <p class="text-[15px] text-text-secondary leading-relaxed mb-6">Enhanced CustomerCombobox with lifecycle badges, enriched customer context, and cross-vertical search.</p> <!-- Meta grid --> <div class="border border-border rounded-lg overflow-hidden mb-6"> <div class="grid grid-cols-2"> <!-- Row 1 --> <div class="px-4 py-3 border-b border-border"> <div class="text-[11px] font-semibold uppercase tracking-wide text-text-muted mb-1">Date</div> <div class="text-sm text-text-primary">2026-02-10</div> </div> <div class="px-4 py-3 border-b border-border border-l border-border"> <div class="text-[11px] font-semibold uppercase tracking-wide text-text-muted mb-1">Branch</div> <div class="text-sm"> <code class="font-mono text-xs bg-bg-surface px-1.5 py-0.5 rounded text-action">session/0210-quoting-interconnection</code> </div> </div> <!-- Row 2 --> <div class="px-4 py-3 border-b border-border"> <div class="text-[11px] font-semibold uppercase tracking-wide text-text-muted mb-1">Phase</div> <div class="text-sm text-text-primary">Phase 1</div> </div> <div class="px-4 py-3 border-b border-border border-l border-border"> <div class="text-[11px] font-semibold uppercase tracking-wide text-text-muted mb-1">Vertical</div> <div class="text-sm text-text-primary"> <a href="/verticals/quoting" class="text-action hover:underline">Quoting</a> <span class="text-text-muted">  + Customer Management, Invoicing </span> </div> </div> <!-- Row 3 --> <div class="px-4 py-3"> <div class="text-[11px] font-semibold uppercase tracking-wide text-text-muted mb-1">Stage</div> <div class="text-sm"> <a href="/verticals/quoting/build" class="inline-flex items-center bg-bg-surface text-action text-xs font-medium px-2 py-0.5 rounded hover:bg-action/10 transition-colors"> Build </a> </div> </div> <div class="px-4 py-3 border-l border-border"> <div class="text-[11px] font-semibold uppercase tracking-wide text-text-muted mb-1">Status</div> <div class="text-sm font-medium text-success"> Complete </div> </div> </div> </div> <!-- Workflow chain --> <div class="mb-6"> <div class="text-[11px] font-semibold uppercase tracking-wide text-text-muted mb-2">Workflow Chain</div> <div class="bg-bg-elevated border border-border rounded-lg px-4 py-2"> <div class="overflow-x-auto"><div class="flex items-center gap-1.5 min-w-max py-2"><a href="/sessions/2026-02-08-quoting-discovery" class="inline-flex items-center gap-1.5 px-2.5 py-1 rounded-md text-[12px] border transition-colors whitespace-nowrap bg-bg-surface border-border text-text-secondary hover:text-text-primary hover:border-action/20" title="Quoting Discovery: Complete"><span class="font-semibold">Research</span><span class="opacity-60">&middot;</span><span class="opacity-80">Quoting Discovery: Comp…</span></a><span class="text-text-muted text-[11px] select-none">&rarr;</span><a href="/sessions/2026-02-08-quoting-breadboard" class="inline-flex items-center gap-1.5 px-2.5 py-1 rounded-md text-[12px] border transition-colors whitespace-nowrap bg-bg-surface border-border text-text-secondary hover:text-text-primary hover:border-action/20" title="Quoting Breadboard"><span class="font-semibold">Breadboard</span><span class="opacity-60">&middot;</span><span class="opacity-80">Quoting Breadboard</span></a><span class="text-text-muted text-[11px] select-none">&rarr;</span><a href="/sessions/2026-02-08-quoting-build" class="inline-flex items-center gap-1.5 px-2.5 py-1 rounded-md text-[12px] border transition-colors whitespace-nowrap bg-bg-surface border-border text-text-secondary hover:text-text-primary hover:border-action/20" title="Quoting Vertical Build"><span class="font-semibold">Build</span><span class="opacity-60">&middot;</span><span class="opacity-80">Quoting Vertical Build</span></a><span class="text-text-muted text-[11px] select-none">&rarr;</span><a href="/sessions/2026-02-10-quoting-interconnection" class="inline-flex items-center gap-1.5 px-2.5 py-1 rounded-md text-[12px] border transition-colors whitespace-nowrap bg-action/10 border-action/30 text-action font-medium" title="Quoting-Customer Interconnection"><span class="font-semibold">Build</span><span class="opacity-60">&middot;</span><span class="opacity-80">Quoting-Customer Interc…</span></a></div></div> </div> </div> <!-- Session resume --> <div class="bg-bg-elevated border border-border rounded-lg px-4 py-3 mb-6"> <div class="text-[11px] font-semibold uppercase tracking-wide text-text-muted mb-2">Resume Session</div> <code class="font-mono text-xs text-action select-all">claude --resume 633cdbe3-a795-443a-b712-f03c868b4c2e</code> </div> <!-- PR link -->  <!-- Divider --> <hr class="border-t border-border mb-8"> <!-- Body content --> <div class="prose"> <h2 id="summary">Summary</h2>
<p>This session connects the Customer Management data model to the existing Quoting vertical. The CustomerCombobox now surfaces lifecycle stages, type tags, and contact roles — giving the shop owner richer context when selecting a customer on a quote.</p>





















<table><thead><tr><th>Stat</th><th>Value</th></tr></thead><tbody><tr><td>Files Changed</td><td>3</td></tr><tr><td>Tests Passing</td><td>264</td></tr><tr><td>Type Errors</td><td>0</td></tr></tbody></table>
<h2 id="what-changed">What Changed</h2>
<h3 id="customercombobox--enriched-dropdown">CustomerCombobox — Enriched Dropdown</h3>
<ul>
<li><strong>Lifecycle badges</strong> replace legacy tag badges in the dropdown list (prospect, new, repeat, contract with semantic colors)</li>
<li><strong>Expanded search</strong> — type “contract”, “wholesale”, “sports” to filter by lifecycle stage or type tags</li>
<li><strong>Enriched info card</strong> when a customer is selected:
<ul>
<li>Company name (prominent, first row)</li>
<li>Contact name + role badge (Ordering, Billing, Art Approver, etc.)</li>
<li>Email + phone</li>
<li>Lifecycle badge + type tag badges (Retail, Sports/School, Corporate, etc.)</li>
<li>“View Customer” link → <code>/customers/{id}</code> in new tab</li>
</ul>
</li>
</ul>
<h3 id="quoteform--customer-option-mapping">QuoteForm — Customer Option Mapping</h3>
<p>Added <code>customerOptions</code> useMemo that maps full Customer objects to CustomerOption with a derived <code>contactRole</code> from the primary contact. This keeps the combobox interface clean while surfacing rich data.</p>
<h3 id="quotedetailview--lifecycle-badge">QuoteDetailView — Lifecycle Badge</h3>
<p>Replaced the legacy <code>CustomerTag</code> badge with the <code>LifecycleBadge</code> component in the quote detail header. Now shows “Prospect”, “New”, “Repeat”, or “Contract” with matching semantic colors.</p>
<h2 id="files-modified">Files Modified</h2>
<ul>
<li><code>components/features/CustomerCombobox.tsx</code> — Main enhancement</li>
<li><code>app/(dashboard)/quotes/_components/QuoteForm.tsx</code> — Customer mapping</li>
<li><code>app/(dashboard)/quotes/_components/QuoteDetailView.tsx</code> — Badge swap</li>
</ul>
<h2 id="pr">PR</h2>
<p><a href="https://github.com/cmbays/print-4ink/pull/28">#28 — feat: Enhanced CustomerCombobox with lifecycle badges and enriched context</a></p> </div> <!-- Footer --> <footer class="mt-16 pt-6 border-t border-border"> <p class="text-xs text-text-muted text-center">
Screen Print Pro &mdash; Quoting-Customer Interconnection &mdash; 2026-02-10 </p> </footer> </main>  </body></html>