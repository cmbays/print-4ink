<!DOCTYPE html><html lang="en"> <head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="description" content="UI affordances, code affordances, wiring, and component boundaries for the invoicing vertical — the buildable blueprint before code."><title>Invoicing Breadboard &mdash; Screen Print Pro KB</title><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet"><link rel="stylesheet" href="/_astro/decisions.DGAibQh0.css"></head> <body>  <main class="max-w-[720px] mx-auto px-6 py-12"> <!-- Back link --> <a href="/" class="inline-flex items-center gap-1.5 text-text-muted text-sm hover:text-action transition-colors mb-8"> <span>&larr;</span> Back to Index
</a> <!-- Tag pills --> <div class="flex items-center gap-2 mb-4"> <span class="text-[11px] font-semibold uppercase tracking-wide px-2 py-0.5 rounded bg-action/12 text-action"> plan </span><span class="text-[11px] font-semibold uppercase tracking-wide px-2 py-0.5 rounded bg-purple/12 text-purple"> research </span> </div> <!-- Title --> <h1 class="text-[28px] font-bold tracking-tight leading-tight mb-2">Invoicing Breadboard</h1> <!-- Subtitle --> <p class="text-[15px] text-text-secondary leading-relaxed mb-6">UI affordances, code affordances, wiring, and component boundaries for the invoicing vertical — the buildable blueprint before code.</p> <!-- Meta grid --> <div class="border border-border rounded-lg overflow-hidden mb-6"> <div class="grid grid-cols-2"> <!-- Row 1 --> <div class="px-4 py-3 border-b border-border"> <div class="text-[11px] font-semibold uppercase tracking-wide text-text-muted mb-1">Date</div> <div class="text-sm text-text-primary">2026-02-11</div> </div> <div class="px-4 py-3 border-b border-border border-l border-border"> <div class="text-[11px] font-semibold uppercase tracking-wide text-text-muted mb-1">Branch</div> <div class="text-sm"> <code class="font-mono text-xs bg-bg-surface px-1.5 py-0.5 rounded text-action">session/0211-invoicing-breadboard</code> </div> </div> <!-- Row 2 --> <div class="px-4 py-3 border-b border-border"> <div class="text-[11px] font-semibold uppercase tracking-wide text-text-muted mb-1">Phase</div> <div class="text-sm text-text-primary">Phase 1</div> </div> <div class="px-4 py-3 border-b border-border border-l border-border"> <div class="text-[11px] font-semibold uppercase tracking-wide text-text-muted mb-1">Vertical</div> <div class="text-sm text-text-primary"> <a href="/verticals/invoicing" class="text-action hover:underline">Invoicing</a>  </div> </div> <!-- Row 3 --> <div class="px-4 py-3"> <div class="text-[11px] font-semibold uppercase tracking-wide text-text-muted mb-1">Stage</div> <div class="text-sm"> <a href="/verticals/invoicing/breadboarding" class="inline-flex items-center bg-bg-surface text-action text-xs font-medium px-2 py-0.5 rounded hover:bg-action/10 transition-colors"> Breadboarding </a> </div> </div> <div class="px-4 py-3 border-l border-border"> <div class="text-[11px] font-semibold uppercase tracking-wide text-text-muted mb-1">Status</div> <div class="text-sm font-medium text-success"> Complete </div> </div> </div> </div> <!-- Workflow chain --> <div class="mb-6"> <div class="text-[11px] font-semibold uppercase tracking-wide text-text-muted mb-2">Workflow Chain</div> <div class="bg-bg-elevated border border-border rounded-lg px-4 py-2"> <div class="overflow-x-auto"><div class="flex items-center gap-1.5 min-w-max py-2"><a href="/sessions/2026-02-10-invoicing-vertical-research" class="inline-flex items-center gap-1.5 px-2.5 py-1 rounded-md text-[12px] border transition-colors whitespace-nowrap bg-bg-surface border-border text-text-secondary hover:text-text-primary hover:border-action/20" title="Invoicing Vertical Research"><span class="font-semibold">Research</span><span class="opacity-60">&middot;</span><span class="opacity-80">Invoicing Vertical Rese…</span></a><span class="text-text-muted text-[11px] select-none">&rarr;</span><a href="/sessions/2026-02-11-invoicing-breadboard" class="inline-flex items-center gap-1.5 px-2.5 py-1 rounded-md text-[12px] border transition-colors whitespace-nowrap bg-action/10 border-action/30 text-action font-medium" title="Invoicing Breadboard"><span class="font-semibold">Breadboard</span><span class="opacity-60">&middot;</span><span class="opacity-80">Invoicing Breadboard</span></a><span class="text-text-muted text-[11px] select-none">&rarr;</span><a href="/sessions/2026-02-11-invoicing-build" class="inline-flex items-center gap-1.5 px-2.5 py-1 rounded-md text-[12px] border transition-colors whitespace-nowrap bg-bg-surface border-border text-text-secondary hover:text-text-primary hover:border-action/20" title="Invoicing Vertical Build"><span class="font-semibold">Build</span><span class="opacity-60">&middot;</span><span class="opacity-80">Invoicing Vertical Build</span></a></div></div> </div> </div> <!-- Session resume --> <div class="bg-bg-elevated border border-border rounded-lg px-4 py-3 mb-6"> <div class="text-[11px] font-semibold uppercase tracking-wide text-text-muted mb-2">Resume Session</div> <code class="font-mono text-xs text-action select-all">claude --resume ba5ae290-306e-47a6-b09b-c2c10320dad0</code> </div> <!-- PR link -->  <!-- Divider --> <hr class="border-t border-border mb-8"> <!-- Body content --> <div class="prose"> <h2 id="source-document">Source Document</h2>
<p><a href="https://github.com/cmbays/print-4ink/blob/session/0211-invoicing-breadboard/docs/breadboards/invoicing-breadboard.md">docs/breadboards/invoicing-breadboard.md</a> →</p>
<h2 id="at-a-glance">At a Glance</h2>

































<table><thead><tr><th>Stat</th><th>Value</th></tr></thead><tbody><tr><td>Places</td><td>9</td></tr><tr><td>UI Affordances</td><td>99</td></tr><tr><td>Code Affordances</td><td>44</td></tr><tr><td>Data Stores</td><td>25</td></tr><tr><td>Components</td><td>18</td></tr><tr><td>Build Steps</td><td>13</td></tr></tbody></table>
<h2 id="places-screens--modals">Places (Screens &#x26; Modals)</h2>

































































<table><thead><tr><th>ID</th><th>Name</th><th>Type</th><th>Route</th></tr></thead><tbody><tr><td>P1</td><td>Invoices List</td><td>Page</td><td>/invoices</td></tr><tr><td>P2</td><td>Invoice Detail</td><td>Page</td><td>/invoices/[id]</td></tr><tr><td>P2.1</td><td>Record Payment</td><td>Sheet</td><td>—</td></tr><tr><td>P2.2</td><td>Send Reminder</td><td>Modal</td><td>—</td></tr><tr><td>P2.3</td><td>Void Invoice</td><td>Dialog</td><td>—</td></tr><tr><td>P2.4</td><td>Credit Memo</td><td>Modal</td><td>—</td></tr><tr><td>P3</td><td>New Invoice Form</td><td>Page</td><td>/invoices/new</td></tr><tr><td>P3.1</td><td>Review &#x26; Send</td><td>Sheet</td><td>—</td></tr><tr><td>P4</td><td>Edit Invoice</td><td>Page (Draft only)</td><td>/invoices/[id]/edit</td></tr></tbody></table>
<h2 id="key-design-decisions">Key Design Decisions</h2>
<h3 id="single-invoice--partial-payments">Single Invoice + Partial Payments</h3>
<p>One invoice for the full amount. Deposits recorded as partial payments. Balance due updates automatically. Simpler than two-invoice approach.</p>
<h3 id="smart-deposit-defaults">Smart Deposit Defaults</h3>
<p>Deposit amount pre-calculated from customer tier (standard=50%, contract=per agreement). Manual override with % or flat $ toggle.</p>
<h3 id="quote-to-invoice-conversion">Quote-to-Invoice Conversion</h3>
<p>One-click from accepted quote. Prices locked from quote (never recalculated). Change tracking shows what diverged. Tax recalculated from customer exempt status.</p>
<h3 id="configurable-itemization">Configurable Itemization</h3>
<p>Toggle between itemized view (every component as separate line) and bundled view (one line per garment style) per invoice.</p>
<h3 id="status-lifecycle">Status Lifecycle</h3>
<p><code>draft → sent → partial → paid</code> with computed <code>overdue</code> (past due + unpaid). Void from any non-paid state. Credit memos for paid invoices.</p>
<h2 id="component-reuse-from-quoting">Component Reuse from Quoting</h2>



































<table><thead><tr><th>Component</th><th>Source</th><th>Reuse Strategy</th></tr></thead><tbody><tr><td>StatusBadge</td><td><code>components/features/</code></td><td>Extend for invoice statuses</td></tr><tr><td>CustomerCombobox</td><td><code>components/features/</code></td><td>Reuse as-is</td></tr><tr><td>CollapsibleSection</td><td><code>quotes/_components/</code></td><td>Reuse for form sections</td></tr><tr><td>PricingSummary</td><td><code>quotes/_components/</code></td><td>Pattern reference (new impl)</td></tr><tr><td>EmailPreviewModal</td><td><code>quotes/_components/</code></td><td>Pattern reference for reminders</td></tr></tbody></table>
<h2 id="new-components">New Components</h2>

















































<table><thead><tr><th>Component</th><th>Purpose</th></tr></thead><tbody><tr><td>InvoiceStatsBar</td><td>4 KPI cards: Outstanding, Overdue, Paid This Month, Avg Days to Pay</td></tr><tr><td>InvoicesDataTable</td><td>Filterable table with smart view tabs and batch operations</td></tr><tr><td>InvoiceForm</td><td>Create/edit form shared between new + edit pages</td></tr><tr><td>PaymentLedger</td><td>Table of payments with running balance</td></tr><tr><td>RecordPaymentSheet</td><td>Slide-out form for recording payments</td></tr><tr><td>DepositSection</td><td>Smart deposit with % / flat toggle</td></tr><tr><td>ChangeDiffPanel</td><td>Quote vs invoice change tracking</td></tr><tr><td>ReminderTimeline</td><td>Timeline of sent/scheduled payment reminders</td></tr><tr><td>CreateCreditMemoModal</td><td>Formal CM document creation</td></tr><tr><td>OverdueBadge</td><td>Shared badge with days count + pulse animation</td></tr></tbody></table>
<h2 id="build-order">Build Order</h2>
<ol>
<li><strong>Schema creation</strong> (Medium) — invoice.ts, credit-memo.ts, payment method enum</li>
<li><strong>Constants update</strong> (Low) — Status labels/colors, payment methods, CM reasons</li>
<li><strong>Mock data</strong> (Medium) — 6-8 invoices, 10+ payments, 1-2 credit memos</li>
<li><strong>Shared components</strong> (Low) — StatusBadge extension + OverdueBadge (parallel)</li>
<li><strong>Invoices List page</strong> (Medium) — StatsBar + DataTable + smart view tabs + batch ops</li>
<li><strong>InvoiceForm + line items + pricing</strong> (High) — Critical path — highest complexity, shared between new + edit</li>
<li><strong>Invoice Detail + actions + payment ledger</strong> (High) — Detail view, context-aware actions, reminders, change diff</li>
<li><strong>New Invoice page + Review Sheet</strong> (Medium) — Quote-to-invoice populate logic is key</li>
<li><strong>Detail modals/sheets</strong> (Medium) — RecordPayment, SendReminder, Void, CreditMemo</li>
<li><strong>Edit Invoice page</strong> (Low) — Reuses InvoiceForm, draft only</li>
<li><strong>Customer Detail integration</strong> (Medium) — Invoices tab + financial summary on customer page</li>
<li><strong>Sidebar nav link</strong> (Low) — Add “Invoices” between Quotes and Customers</li>
<li><strong>Quote Detail wiring</strong> (Low) — “Create Invoice” button on accepted quotes</li>
</ol>
<p><strong>Critical path:</strong> 1 → 2 → 3 → 6 → 8 (InvoiceForm with quote-to-invoice conversion)</p>
<h2 id="deferred-to-phase-2">Deferred to Phase 2</h2>









































<table><thead><tr><th>Feature</th><th>Why Deferred</th></tr></thead><tbody><tr><td>PDF generation</td><td>Requires library (react-pdf), not critical for mock</td></tr><tr><td>Real email sending</td><td>Requires backend + SMTP</td></tr><tr><td>QuickBooks sync</td><td>Requires OAuth + QBO API</td></tr><tr><td>Square payment gateway</td><td>Requires Square SDK</td></tr><tr><td>Late fee auto-calculation</td><td>Schema supports, UI deferred</td></tr><tr><td>Read receipts</td><td>Requires customer portal</td></tr><tr><td>Customer portal</td><td>Separate vertical per decision #7</td></tr><tr><td>Recurring invoices</td><td>Contract customer feature, Phase 2</td></tr></tbody></table>
<h2 id="input-documents">Input Documents</h2>
<ul>
<li><a href="2026-02-10-invoicing-vertical-research.html">Invoicing Vertical Research</a> — Industry analysis, competitor deep-dive, 19 key decisions</li>
<li><code>docs/spikes/invoicing-decisions.md</code> — Decision record</li>
<li><code>docs/spikes/invoicing-ux-patterns.md</code> — Screen designs and component reuse</li>
<li><code>docs/spikes/invoicing-integration-map.md</code> — Schema dependencies and data flow</li>
<li><code>docs/spikes/invoicing-compliance.md</code> — Tax, legal, audit requirements</li>
<li><code>docs/breadboards/quoting-breadboard.md</code> — Upstream quoting vertical</li>
</ul> </div> <!-- Footer --> <footer class="mt-16 pt-6 border-t border-border"> <p class="text-xs text-text-muted text-center">
Screen Print Pro &mdash; Invoicing Breadboard &mdash; 2026-02-11 </p> </footer> </main>  </body></html>