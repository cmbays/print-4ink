<!DOCTYPE html><html lang="en"> <head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="description" content="Interactive visualization of Places, Components, Wiring, and Build Order for the Customer Management vertical"><title>Customer Management Breadboard &mdash; Screen Print Pro KB</title><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet"><link rel="stylesheet" href="/_astro/decisions.DGAibQh0.css"></head> <body>  <main class="max-w-[720px] mx-auto px-6 py-12"> <!-- Back link --> <a href="/" class="inline-flex items-center gap-1.5 text-text-muted text-sm hover:text-action transition-colors mb-8"> <span>&larr;</span> Back to Index
</a> <!-- Tag pills --> <div class="flex items-center gap-2 mb-4"> <span class="text-[11px] font-semibold uppercase tracking-wide px-2 py-0.5 rounded bg-action/12 text-action"> plan </span><span class="text-[11px] font-semibold uppercase tracking-wide px-2 py-0.5 rounded bg-success/12 text-success"> build </span> </div> <!-- Title --> <h1 class="text-[28px] font-bold tracking-tight leading-tight mb-2">Customer Management Breadboard</h1> <!-- Subtitle --> <p class="text-[15px] text-text-secondary leading-relaxed mb-6">Interactive visualization of Places, Components, Wiring, and Build Order for the Customer Management vertical</p> <!-- Meta grid --> <div class="border border-border rounded-lg overflow-hidden mb-6"> <div class="grid grid-cols-2"> <!-- Row 1 --> <div class="px-4 py-3 border-b border-border"> <div class="text-[11px] font-semibold uppercase tracking-wide text-text-muted mb-1">Date</div> <div class="text-sm text-text-primary">2026-02-10</div> </div> <div class="px-4 py-3 border-b border-border border-l border-border"> <div class="text-[11px] font-semibold uppercase tracking-wide text-text-muted mb-1">Branch</div> <div class="text-sm"> <code class="font-mono text-xs bg-bg-surface px-1.5 py-0.5 rounded text-action">session/0209-customer-mgmt-discovery</code> </div> </div> <!-- Row 2 --> <div class="px-4 py-3 border-b border-border"> <div class="text-[11px] font-semibold uppercase tracking-wide text-text-muted mb-1">Phase</div> <div class="text-sm text-text-primary">Phase 1</div> </div> <div class="px-4 py-3 border-b border-border border-l border-border"> <div class="text-[11px] font-semibold uppercase tracking-wide text-text-muted mb-1">Vertical</div> <div class="text-sm text-text-primary"> <a href="/verticals/customer-management" class="text-action hover:underline">Customer Management</a>  </div> </div> <!-- Row 3 --> <div class="px-4 py-3"> <div class="text-[11px] font-semibold uppercase tracking-wide text-text-muted mb-1">Stage</div> <div class="text-sm"> <a href="/verticals/customer-management/breadboarding" class="inline-flex items-center bg-bg-surface text-action text-xs font-medium px-2 py-0.5 rounded hover:bg-action/10 transition-colors"> Breadboarding </a> </div> </div> <div class="px-4 py-3 border-l border-border"> <div class="text-[11px] font-semibold uppercase tracking-wide text-text-muted mb-1">Status</div> <div class="text-sm font-medium text-success"> Complete </div> </div> </div> </div> <!-- Workflow chain --> <div class="mb-6"> <div class="text-[11px] font-semibold uppercase tracking-wide text-text-muted mb-2">Workflow Chain</div> <div class="bg-bg-elevated border border-border rounded-lg px-4 py-2"> <div class="overflow-x-auto"><div class="flex items-center gap-1.5 min-w-max py-2"><a href="/sessions/2026-02-10-customer-mgmt-breadboard" class="inline-flex items-center gap-1.5 px-2.5 py-1 rounded-md text-[12px] border transition-colors whitespace-nowrap bg-action/10 border-action/30 text-action font-medium" title="Customer Management Breadboard"><span class="font-semibold">Breadboard</span><span class="opacity-60">&middot;</span><span class="opacity-80">Customer Management Bre…</span></a><span class="text-text-muted text-[11px] select-none">&rarr;</span><a href="/sessions/2026-02-10-customer-list-page" class="inline-flex items-center gap-1.5 px-2.5 py-1 rounded-md text-[12px] border transition-colors whitespace-nowrap bg-bg-surface border-border text-text-secondary hover:text-text-primary hover:border-action/20" title="Customer List Page"><span class="font-semibold">Build</span><span class="opacity-60">&middot;</span><span class="opacity-80">Customer List Page</span></a><span class="text-text-muted text-[11px] select-none">&rarr;</span><a href="/sessions/2026-02-10-customer-quality-gate" class="inline-flex items-center gap-1.5 px-2.5 py-1 rounded-md text-[12px] border transition-colors whitespace-nowrap bg-bg-surface border-border text-text-secondary hover:text-text-primary hover:border-action/20" title="Customer Management Quality Gate"><span class="font-semibold">Review</span><span class="opacity-60">&middot;</span><span class="opacity-80">Customer Management Qua…</span></a><span class="text-text-muted text-[11px] select-none">&rarr;</span><a href="/sessions/2026-02-10-customer-feedback" class="inline-flex items-center gap-1.5 px-2.5 py-1 rounded-md text-[12px] border transition-colors whitespace-nowrap bg-bg-surface border-border text-text-secondary hover:text-text-primary hover:border-action/20" title="Customer Management Feedback"><span class="font-semibold">Review</span><span class="opacity-60">&middot;</span><span class="opacity-80">Customer Management Fee…</span></a></div></div> </div> </div> <!-- Session resume --> <div class="bg-bg-elevated border border-border rounded-lg px-4 py-3 mb-6"> <div class="text-[11px] font-semibold uppercase tracking-wide text-text-muted mb-2">Resume Session</div> <code class="font-mono text-xs text-action select-all">claude --resume 69497710-9bb5-46d9-8e49-949cda0e9d65</code> </div> <!-- PR link -->  <!-- Divider --> <hr class="border-t border-border mb-8"> <!-- Body content --> <div class="prose"> 
























<table><thead><tr><th>Stat</th><th>Value</th></tr></thead><tbody><tr><td>Places</td><td>9</td></tr><tr><td>UI Affordances</td><td>102</td></tr><tr><td>Code Affordances</td><td>33</td></tr><tr><td>Components</td><td>21</td></tr></tbody></table>
<h2 id="place-map">Place Map</h2>
<p>Pages are bounded contexts where affordances live. Modals block what’s behind them, creating sub-Places. Arrows show primary navigation paths.</p>
<h2 id="pages">Pages</h2>
<h3 id="p1--customer-list">P1 — Customer List</h3>
<p><strong>Route:</strong> <code>/customers</code></p>
<p>Browse, search, filter with 5 smart views (All, Prospects, Top, Needs Attention, Seasonal). Quick stats bar, type tag filters, sortable columns.</p>
<ul>
<li>16 UI affordances · 7 code affordances</li>
</ul>
<h3 id="p2--customer-detail">P2 — Customer Detail</h3>
<p><strong>Route:</strong> <code>/customers/[id]</code></p>
<p>Full customer dashboard. Header with stats + lifecycle badge + actions. 7 tabs: Activity, Quotes, Jobs, Artwork, Contacts, Details, Notes.</p>
<ul>
<li>73 UI affordances · 23 code affordances</li>
</ul>
<h2 id="modals--sub-places">Modals &#x26; Sub-Places</h2>
<p><strong>From Customer List (P1):</strong></p>
<h3 id="p11--add-customer-modal">P1.1 — Add Customer Modal</h3>
<p>Quick-create: company, contact, email/phone, type tags. &#x3C; 30 seconds.</p>
<ul>
<li>8 UI · 2 code</li>
</ul>
<p><strong>From Customer Detail (P2):</strong></p>
<h3 id="p22--add-contact">P2.2 — Add Contact</h3>
<p>Name, email, phone, role, group assignment, primary flag.</p>
<ul>
<li>8 UI</li>
</ul>
<h3 id="p23--add-group">P2.3 — Add Group</h3>
<p>Group name within company.</p>
<ul>
<li>3 UI</li>
</ul>
<h3 id="p24--edit-customer">P2.4 — Edit Customer</h3>
<p>Full profile: tags, payment terms, pricing, tax, addresses, referral, lifecycle override.</p>
<ul>
<li>13 UI</li>
</ul>
<h3 id="p25--archive-confirm">P2.5 — Archive Confirm</h3>
<p>Confirmation dialog before archiving.</p>
<ul>
<li>3 UI</li>
</ul>
<h2 id="cross-vertical-navigation">Cross-Vertical Navigation</h2>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>P1 Customer List</span></span>
<span class="line"><span>  click row → P2 /customers/[id]</span></span>
<span class="line"><span>  click Add Customer → P1.1 Add Customer Modal</span></span>
<span class="line"><span></span></span>
<span class="line"><span>P2 Customer Detail</span></span>
<span class="line"><span>  click "New Quote" → /quotes/new?customer={id}</span></span>
<span class="line"><span>  click quote row → /quotes/[id]</span></span>
<span class="line"><span>  click job row → /jobs/[id]</span></span>
<span class="line"><span>  click "Copy as New" → /quotes/new?from={quoteId}</span></span>
<span class="line"><span>  click referrer → P2 /customers/[referrerId]</span></span>
<span class="line"><span>  click "Archive" → P1 /customers</span></span>
<span class="line"><span>  breadcrumb → P1 /customers or / dashboard</span></span></code></pre>
<h2 id="p2-tab-structure">P2 Tab Structure</h2>













































<table><thead><tr><th>Tab</th><th>Notes</th><th>Affordances</th></tr></thead><tbody><tr><td>Activity</td><td>Default tab</td><td>3</td></tr><tr><td>Quotes</td><td></td><td>3</td></tr><tr><td>Jobs</td><td></td><td>2</td></tr><tr><td>Artwork</td><td></td><td>7</td></tr><tr><td>Contacts</td><td></td><td>7</td></tr><tr><td>Details</td><td></td><td>8</td></tr><tr><td>Notes</td><td>Default for Prospects</td><td>8</td></tr></tbody></table>
<h2 id="component-map">Component Map</h2>
<p>Components are grouped by reusability. Shared components live in <code>components/features/</code> and are reused across verticals. Vertical-specific components live under <code>app/(dashboard)/customers/</code>. Existing components are already built.</p>
<h3 id="existing-enhance">Existing (Enhance)</h3>
<ul>
<li><strong>AddCustomerModal</strong> — <code>components/features/</code> — Used in: P1.1, Quoting — Needs: type tags, lifecycle auto-set, company required</li>
<li><strong>CustomerCombobox</strong> — <code>components/features/</code> — Used in: Quoting, P2.4 — Needs: lifecycle badge, enriched display</li>
<li><strong>StatusBadge</strong> — <code>components/features/</code> — Used in: P2 Quotes tab — Reuse as-is for quote status display</li>
</ul>
<h3 id="new-shared-components-reusable-across-verticals">New Shared Components (Reusable Across Verticals)</h3>
<ul>
<li><strong>LifecycleBadge</strong> — <code>components/features/</code> — Used in: P1, P2, Quoting — Prospect(cyan) New(white) Repeat(green) Contract(amber)</li>
<li><strong>HealthBadge</strong> — <code>components/features/</code> — Used in: P1, P2 — Only shows when not Active</li>
<li><strong>TypeTagBadges</strong> — <code>components/features/</code> — Used in: P1, P2, P2.4 — Display + edit (multi-select) modes</li>
<li><strong>CustomerQuickStats</strong> — <code>components/features/</code> — Used in: P1 (bar), P2 (header) — Revenue, orders, AOV, last order</li>
<li><strong>ArtworkGallery</strong> — <code>components/features/</code> — Used in: P2 Artwork tab — Smart-sorted thumbnails, badges, tooltips</li>
<li><strong>NotesPanel</strong> — <code>components/features/</code> — Used in: P2 Notes tab — Quick-add, pin, channel tags. Reusable for any entity.</li>
</ul>
<h3 id="customer-list-page-components">Customer List Page Components</h3>
<ul>
<li><strong>SmartViewTabs</strong> — <code>app/.../customers/_components/</code> — Used in: P1 — All, Prospects, Top, Needs Attention, Seasonal</li>
<li><strong>CustomersDataTable</strong> — <code>app/.../customers/_components/</code> — Used in: P1 — Extends shared table pattern</li>
<li><strong>CustomerListStatsBar</strong> — <code>app/.../customers/_components/</code> — Used in: P1 — Total, Active, Revenue YTD, Prospects</li>
</ul>
<h3 id="customer-detail-page-components">Customer Detail Page Components</h3>
<ul>
<li><strong>CustomerDetailHeader</strong> — <code>app/.../customers/[id]/_components/</code> — Used in: P2 — Company, contact, badges, stats, actions</li>
<li><strong>ActivityTimeline</strong> — <code>app/.../customers/[id]/_components/</code> — Used in: P2 Activity tab — Reverse-chronological merged events</li>
<li><strong>CustomerQuotesTable</strong> — <code>app/.../customers/[id]/_components/</code> — Used in: P2 Quotes tab — Quote #, status, total, Copy as New</li>
<li><strong>CustomerJobsTable</strong> — <code>app/.../customers/[id]/_components/</code> — Used in: P2 Jobs tab — Job #, status, due date</li>
<li><strong>ContactHierarchy</strong> — <code>app/.../customers/[id]/_components/</code> — Used in: P2 Contacts tab — Company → Group → Contact tree</li>
<li><strong>CustomerDetailsPanel</strong> — <code>app/.../customers/[id]/_components/</code> — Used in: P2 Details tab — Addresses, tax, payment, pricing, referral</li>
<li><strong>EditCustomerSheet</strong> — <code>app/.../customers/[id]/_components/</code> — Used in: P2.4 — Full profile edit form</li>
<li><strong>AddContactSheet</strong> — <code>app/.../customers/[id]/_components/</code> — Used in: P2.2</li>
<li><strong>AddGroupSheet</strong> — <code>app/.../customers/[id]/_components/</code> — Used in: P2.3</li>
</ul>
<h2 id="build-order">Build Order</h2>
<p>Build phases flow top-to-bottom. Steps within a phase can run in parallel. Phases B, C, and D can all run in parallel once Phase A completes.</p>
<h3 id="phase-a--foundation--shared-components">Phase A — Foundation + Shared Components</h3>
<p>All steps in this phase can run in parallel (after steps 1-2 complete as the base)</p>
<ol>
<li>Schemas (contact, address, group, note, expanded customer) — Medium</li>
<li>Mock Data Expansion (10 customers, contacts, notes, addresses) — High</li>
</ol>
<p>After 1-2 complete:</p>
<ol start="3">
<li>LifecycleBadge — Low</li>
<li>HealthBadge — Low</li>
<li>TypeTagBadges — Low</li>
<li>NotesPanel (shared) — Medium</li>
<li>ArtworkGallery (shared) — High</li>
<li>AddCustomerModal (enhanced) — Low-Med</li>
<li>CustomerQuickStats — Low</li>
</ol>
<h3 id="phase-b--customer-list-page">Phase B — Customer List Page</h3>
<p>Can start as soon as Phase A schemas + badges are ready.</p>
<ol start="10">
<li>Customer List (/customers) — High</li>
</ol>
<h3 id="phase-c--customer-detail-page">Phase C — Customer Detail Page</h3>
<p>Largest phase — header + 7 tabs + 4 modals.</p>
<ol start="11">
<li>Customer Detail + All Sub-components — Very High</li>
</ol>
<h3 id="phase-d--interconnections">Phase D — Interconnections</h3>
<p>Enhance existing quoting combobox.</p>
<ol start="13">
<li>Quoting Interconnection — Low-Med</li>
</ol>
<h2 id="dependency-graph-summary">Dependency Graph Summary</h2>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>Step 1 Schemas → blocks everything</span></span>
<span class="line"><span>Step 2 Mock Data → blocks all display components</span></span>
<span class="line"><span>Steps 3-9 Shared Components → run in parallel, block pages</span></span>
<span class="line"><span>Step 10 Customer List → needs 1-5, 8-9</span></span>
<span class="line"><span>Step 11 Customer Detail → needs 1-9 (all shared components)</span></span>
<span class="line"><span>Step 13 Quoting → needs 1-3 only (schemas, data, LifecycleBadge)</span></span></code></pre>
<h2 id="data-flow">Data Flow</h2>
<p>Shows where state lives and how it flows between affordances. Color indicates state type.</p>
<p><strong>State Types:</strong></p>
<ul>
<li>URL State — filters, search, sort</li>
<li>React State — form inputs, tab selection</li>
<li>Mock Data — imported, mutated in-memory</li>
<li>Derived — computed from other stores</li>
</ul>
<h3 id="url-state--persists-across-page-refreshes-shareable">URL State — Persists across page refreshes, shareable</h3>
<p><strong>S1 — Customer List Params</strong></p>
<p><code>?q</code> · <code>?view</code> · <code>?tags</code> · <code>?lifecycle</code> · <code>?sort</code> · <code>?dir</code> · <code>?archived</code></p>
<ul>
<li>Readers: N1, N2, N3, N4, N5, N7, N33</li>
<li>Writers: U1 search, U2-U6 tabs, U7 tags, U8 lifecycle, U9 sort, U12 archive</li>
</ul>
<h3 id="react-state--component-local-resets-on-navigation">React State — Component-local, resets on navigation</h3>
<p><strong>S2 — Active Tab</strong> — P2 tab selection</p>
<ul>
<li>Readers: U42, tab content</li>
<li>Writers: N13 setActiveTab, N32 (defaults: “notes” for Prospects, “activity” otherwise)</li>
</ul>
<p><strong>S5 — Add Customer Form</strong> — P1.1 form inputs</p>
<ul>
<li>Readers: U20-U24, N9 validate</li>
<li>Writers: U20-U24 typing, N8 reset</li>
</ul>
<p><strong>S6 — Artwork View</strong> — sort mode, selected artwork</p>
<ul>
<li>Readers: U65, U69</li>
<li>Writers: N19 sort, N21 select</li>
</ul>
<p><strong>S7 — Note Draft</strong> — content + channel tag</p>
<ul>
<li>Readers: U95, U96</li>
<li>Writers: U95 type, U96 select, N23 clear</li>
</ul>
<p><strong>S8 — Contact Form</strong> — P2.2 inputs</p>
<p><strong>S9 — Group Form</strong> — P2.3 inputs</p>
<p><strong>S10 — Edit Customer Form</strong> — P2.4 full profile edit</p>
<ul>
<li>Readers: U125-U135, N29</li>
<li>Writers: U125-U135 inputs, P2.4 mount (pre-fill)</li>
</ul>
<h3 id="mock-data--imported-from-libmock-datats-mutated-in-memory-phase-1">Mock Data — Imported from lib/mock-data.ts, mutated in-memory (Phase 1)</h3>
<p><strong>S3 — All Mock Data</strong></p>
<p>customers · contacts · groups · notes · quotes · jobs · artworks</p>
<ul>
<li>Readers: N1, N11, N14-N18, N24-N25, all display affordances</li>
<li>Writers: N8 (add customer), N22 (set primary), N23 (add note), N26 (pin), N27-N30 (CRUD)</li>
</ul>
<h3 id="derived--computed-from-other-stores-not-persisted">Derived — Computed from other stores, not persisted</h3>
<p><strong>S4 — Quick Stats</strong></p>
<p>Total customers, Active this month, YTD revenue, Prospect count</p>
<ul>
<li>Readers: U13 stats bar</li>
<li>Writers: N31 (recomputed when S3 changes)</li>
</ul>
<h2 id="key-data-flows">Key Data Flows</h2>
<p><strong>Search &#x26; Filter Flow:</strong>
U1 type query → S1 ?q param → N1 filterCustomers() → Table rows update</p>
<p><strong>Add Customer Flow:</strong>
U25 click Save → N9 validate → N8 saveNewCustomer() → S3 add to mock data → Close modal, update list</p>
<p><strong>Note Creation Flow:</strong>
U95 type note + U96 select channel → S7 draft state → U97 click Add → N23 addNote() → S3 add to notes → Prepend to list, clear draft</p>
<p><strong>Cross-Vertical: New Quote from Customer:</strong>
U38 click “New Quote” → N12 navigateToNewQuote() → /quotes/new?customer={id} → Quote form auto-selects customer</p> </div> <!-- Footer --> <footer class="mt-16 pt-6 border-t border-border"> <p class="text-xs text-text-muted text-center">
Screen Print Pro &mdash; Customer Management Breadboard &mdash; 2026-02-10 </p> </footer> </main>  </body></html>