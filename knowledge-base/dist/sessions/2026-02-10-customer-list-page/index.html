<!DOCTYPE html><html lang="en"> <head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="description" content="Smart views, search, filters, stats bar, responsive table — the /customers browse experience"><title>Customer List Page &mdash; Screen Print Pro KB</title><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet"><link rel="stylesheet" href="/_astro/decisions.DGAibQh0.css"></head> <body>  <main class="max-w-[720px] mx-auto px-6 py-12"> <!-- Back link --> <a href="/" class="inline-flex items-center gap-1.5 text-text-muted text-sm hover:text-action transition-colors mb-8"> <span>&larr;</span> Back to Index
</a> <!-- Tag pills --> <div class="flex items-center gap-2 mb-4"> <span class="text-[11px] font-semibold uppercase tracking-wide px-2 py-0.5 rounded bg-success/12 text-success"> feature </span><span class="text-[11px] font-semibold uppercase tracking-wide px-2 py-0.5 rounded bg-success/12 text-success"> build </span> </div> <!-- Title --> <h1 class="text-[28px] font-bold tracking-tight leading-tight mb-2">Customer List Page</h1> <!-- Subtitle --> <p class="text-[15px] text-text-secondary leading-relaxed mb-6">Smart views, search, filters, stats bar, responsive table — the /customers browse experience</p> <!-- Meta grid --> <div class="border border-border rounded-lg overflow-hidden mb-6"> <div class="grid grid-cols-2"> <!-- Row 1 --> <div class="px-4 py-3 border-b border-border"> <div class="text-[11px] font-semibold uppercase tracking-wide text-text-muted mb-1">Date</div> <div class="text-sm text-text-primary">2026-02-10</div> </div> <div class="px-4 py-3 border-b border-border border-l border-border"> <div class="text-[11px] font-semibold uppercase tracking-wide text-text-muted mb-1">Branch</div> <div class="text-sm"> <code class="font-mono text-xs bg-bg-surface px-1.5 py-0.5 rounded text-action">session/0210-customer-list</code> </div> </div> <!-- Row 2 --> <div class="px-4 py-3 border-b border-border"> <div class="text-[11px] font-semibold uppercase tracking-wide text-text-muted mb-1">Phase</div> <div class="text-sm text-text-primary">Phase 1</div> </div> <div class="px-4 py-3 border-b border-border border-l border-border"> <div class="text-[11px] font-semibold uppercase tracking-wide text-text-muted mb-1">Vertical</div> <div class="text-sm text-text-primary"> <a href="/verticals/customer-management" class="text-action hover:underline">Customer Management</a>  </div> </div> <!-- Row 3 --> <div class="px-4 py-3"> <div class="text-[11px] font-semibold uppercase tracking-wide text-text-muted mb-1">Stage</div> <div class="text-sm"> <a href="/verticals/customer-management/build" class="inline-flex items-center bg-bg-surface text-action text-xs font-medium px-2 py-0.5 rounded hover:bg-action/10 transition-colors"> Build </a> </div> </div> <div class="px-4 py-3 border-l border-border"> <div class="text-[11px] font-semibold uppercase tracking-wide text-text-muted mb-1">Status</div> <div class="text-sm font-medium text-success"> Complete </div> </div> </div> </div> <!-- Workflow chain --> <div class="mb-6"> <div class="text-[11px] font-semibold uppercase tracking-wide text-text-muted mb-2">Workflow Chain</div> <div class="bg-bg-elevated border border-border rounded-lg px-4 py-2"> <div class="overflow-x-auto"><div class="flex items-center gap-1.5 min-w-max py-2"><a href="/sessions/2026-02-10-customer-mgmt-breadboard" class="inline-flex items-center gap-1.5 px-2.5 py-1 rounded-md text-[12px] border transition-colors whitespace-nowrap bg-bg-surface border-border text-text-secondary hover:text-text-primary hover:border-action/20" title="Customer Management Breadboard"><span class="font-semibold">Breadboard</span><span class="opacity-60">&middot;</span><span class="opacity-80">Customer Management Bre…</span></a><span class="text-text-muted text-[11px] select-none">&rarr;</span><a href="/sessions/2026-02-10-customer-list-page" class="inline-flex items-center gap-1.5 px-2.5 py-1 rounded-md text-[12px] border transition-colors whitespace-nowrap bg-action/10 border-action/30 text-action font-medium" title="Customer List Page"><span class="font-semibold">Build</span><span class="opacity-60">&middot;</span><span class="opacity-80">Customer List Page</span></a><span class="text-text-muted text-[11px] select-none">&rarr;</span><a href="/sessions/2026-02-10-customer-quality-gate" class="inline-flex items-center gap-1.5 px-2.5 py-1 rounded-md text-[12px] border transition-colors whitespace-nowrap bg-bg-surface border-border text-text-secondary hover:text-text-primary hover:border-action/20" title="Customer Management Quality Gate"><span class="font-semibold">Review</span><span class="opacity-60">&middot;</span><span class="opacity-80">Customer Management Qua…</span></a><span class="text-text-muted text-[11px] select-none">&rarr;</span><a href="/sessions/2026-02-10-customer-feedback" class="inline-flex items-center gap-1.5 px-2.5 py-1 rounded-md text-[12px] border transition-colors whitespace-nowrap bg-bg-surface border-border text-text-secondary hover:text-text-primary hover:border-action/20" title="Customer Management Feedback"><span class="font-semibold">Review</span><span class="opacity-60">&middot;</span><span class="opacity-80">Customer Management Fee…</span></a></div></div> </div> </div> <!-- Session resume --> <div class="bg-bg-elevated border border-border rounded-lg px-4 py-3 mb-6"> <div class="text-[11px] font-semibold uppercase tracking-wide text-text-muted mb-2">Resume Session</div> <code class="font-mono text-xs text-action select-all">claude --resume b11a4feb-edb5-44ec-89a2-cedd0cb9c591</code> </div> <!-- PR link -->  <!-- Divider --> <hr class="border-t border-border mb-8"> <!-- Body content --> <div class="prose"> <h2 id="build-overview">Build Overview</h2>

























<table><thead><tr><th>Stat</th><th>Value</th></tr></thead><tbody><tr><td>Components</td><td>4</td></tr><tr><td>Smart Views</td><td>5</td></tr><tr><td>Table Columns</td><td>7</td></tr><tr><td>Tests Pass</td><td>264</td></tr></tbody></table>
<p>Built the Customer List page (<code>/customers</code>) using an orchestrator pattern with 4 parallel subagents. Each component was built independently with well-defined interfaces, then integrated and verified.</p>
<h2 id="components-built">Components Built</h2>
<h3 id="smartviewtabs">SmartViewTabs</h3>
<p>5 filterable view chips: All Customers, Prospects, Top Customers, Needs Attention, Seasonal. URL-driven via <code>?view=</code>. Keyboard navigable (arrow keys, Home/End). ARIA tablist/tab roles. Mobile: horizontal scroll with hidden scrollbar.</p>
<h3 id="customersdatatable">CustomersDataTable</h3>
<p>7 sortable columns: Company, Primary Contact, Type Tags, Lifecycle, Health, Last Order, Revenue. <strong>Desktop:</strong> Full table with clickable sort headers. <strong>Mobile:</strong> Card list layout below 768px. Global search (<code>?q=</code>), type tag filter chips (<code>?tags=</code>), lifecycle filter (<code>?lifecycle=</code>), archived toggle (<code>?archived=</code>), column sort (<code>?sort=</code>, <code>?dir=</code>). Revenue computed from accepted quote totals. Row click navigates to <code>/customers/[id]</code>. Empty state with contextual messaging. Result count footer. “Clear all” filter reset.</p>
<h3 id="customerliststatsbar">CustomerListStatsBar</h3>
<p>4 metric cards: Total Customers, Active, Revenue YTD, Prospects. 2x2 grid on mobile, 4-column on desktop. Revenue computed from accepted quotes in current year.</p>
<h3 id="addcustomermodal-enhanced">AddCustomerModal (Enhanced)</h3>
<p>Breaking interface update: Company is now <strong>required</strong> (was optional). “Name” renamed to “Contact Name”. Email OR phone required (was email-only). Customer Type: multi-select pill buttons replacing single dropdown. New <code>lifecycleStage</code> prop: defaults to “new” from customer list, “prospect” from quoting. Updated QuoteForm caller to match new interface.</p>
<h2 id="smart-view-logic">Smart View Logic</h2>
<ul>
<li><strong>All Customers</strong> — Default view, all non-archived</li>
<li><strong>Prospects</strong> — lifecycleStage === “prospect”</li>
<li><strong>Top Customers</strong> — Sorted by lifetime revenue descending</li>
<li><strong>Needs Attention</strong> — healthStatus === “potentially-churning”</li>
<li><strong>Seasonal</strong> — Customers with sports/school type tag</li>
</ul>
<h2 id="url-state-architecture">URL State Architecture</h2>
<p>All filters are URL-driven for shareability and back/forward navigation:</p>
<ul>
<li><code>?view=</code> — Smart view tab (all, prospects, top, attention, seasonal)</li>
<li><code>?q=</code> — Global search (debounced 300ms)</li>
<li><code>?tags=</code> — Type tag filters (comma-separated)</li>
<li><code>?lifecycle=</code> — Lifecycle stage filter</li>
<li><code>?sort=</code> / <code>?dir=</code> — Column sorting</li>
<li><code>?archived=true</code> — Show archived customers</li>
</ul>
<h2 id="integration-fixes">Integration Fixes</h2>
<ul>
<li><strong>QuoteForm interface update</strong> — Updated <code>handleAddNewCustomer</code> callback to match new AddCustomerModal signature (company required, email optional, typeTags array, lifecycleStage)</li>
<li><strong>CustomerTypeTag import</strong> — Added to QuoteForm imports</li>
<li><strong>Lint warning fix</strong> — Wrapped <code>activeTags</code> in useMemo to stabilize dependency array</li>
</ul>
<h2 id="verification">Verification</h2>
<ul>
<li><strong>tsc —noEmit</strong> — 0 errors</li>
<li><strong>npm run lint</strong> — 0 errors (3 warnings in non-critical code)</li>
<li><strong>npm test</strong> — 264 tests passing (12 files)</li>
<li><strong>npm run build</strong> — Success, <code>/customers</code> renders as static page</li>
</ul> </div> <!-- Footer --> <footer class="mt-16 pt-6 border-t border-border"> <p class="text-xs text-text-muted text-center">
Screen Print Pro &mdash; Customer List Page &mdash; 2026-02-10 </p> </footer> </main>  </body></html>